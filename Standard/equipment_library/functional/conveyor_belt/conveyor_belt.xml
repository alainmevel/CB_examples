<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Generator: ControlBuild -->

<project xmlns="http://www.plcopen.org/xml/tc6_0201.xsd" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.plcopen.org/xml/tc6_0201.xsd TC6_XML_V10.xsd">
	<fileHeader companyName="Dassault Syst&#232;mes" productName="ControlBuild" productVersion="2024x" creationDateTime="2023-10-03T11:12:58-01:00" />
	<contentHeader name="conveyor_belt">
		<coordinateInfo>
			<fbd>
				<scaling x="100" y="100" />
			</fbd>
			<ld>
				<scaling x="100" y="100" />
			</ld>
			<sfc>
				<scaling x="32" y="8" />
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes />
		<pous>
			<pou name="equipment_library.conveyor_belt" pouType="functionBlock">
				<interface>
					<inputVars>
						<variable name="volumeIn">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>6cc4131f-42ac-4824-8974-7c434203062d</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="depositPosition">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>c5b78e72-7711-47aa-9472-8722b1ee6d26</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="speed">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>3aa2d1b6-8fca-4545-bff0-e8d7033f1c3b</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="openValve">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>50199e00-2e85-4388-b850-796cff718283</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inputVars</value>
							</data>
						</addData>
					</inputVars>
					<outputVars>
						<variable name="volumeOutFwd">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>3a7e7763-b4ae-4744-95b1-1b6a2e6b1393</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="volumeOutBwd">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>438455c1-ccc5-4795-b9b8-ad86d9f345c5</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="controllerRot">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>0c9f4693-120a-4db5-ac93-5654df9d2fae</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="volumeOutValve">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>66c566ea-80ce-46e2-95b6-38800d016675</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<localVars>
						<variable name="materialHead">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>597f53b5-a91a-47d3-8733-28a0bff3156c</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="materialTailEnd">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>dd7902f8-e518-49b9-834d-a5f761660487</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="deviation">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>acfc3a23-b34f-4359-afc8-cddc2852607f</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="volumeOn">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>f36cd434-e636-4d96-939f-7f2bb809bb0d</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="increment">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>01f2c995-3b2f-4c9b-9826-265785d8f228</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="effectiveLength">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>a3c0ff3d-229d-4ce3-bed5-aa9e63e28f8d</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="valvePassage">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>f0d5b312-41fe-499d-83ba-f504ef702c47</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>localVars</value>
							</data>
						</addData>
					</localVars>
					<localVars constant="true">
						<variable name="controllerLogic">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="true" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>140ccfc5-044e-4ca7-8b97-12763e00d8ee</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="conveyorLength">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="20.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>75a77cfc-a318-4f19-8d66-7af054c5d2c0</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="controllerRotThres">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="50.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>cc73900d-f836-4297-aa95-7106ee914f29</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="ratedSpeed">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="1.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>aa1f4d5b-0a9e-4a6d-94b6-8d768a4864e1</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="weighingPosition">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="5.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>6aa006c3-43f8-44d4-b5f0-7b38ad5c9f68</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="valvePosition">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="10.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>7e83e417-0389-4dc9-9f26-48772ce0000e</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>parameterVars</value>
							</data>
						</addData>
					</localVars>
					<localVars>
						<variable name="d_sticking">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>65fd0021-fb08-4549-b1c5-9cc6bd73055b</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="v_d_sticking">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>0492fa82-8149-4f52-b41c-d3cd35cad9b6</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>faultVars</value>
							</data>
						</addData>
					</localVars>
					<addData>
					</addData>
				</interface>
				<actions>
					<action name="C_source_code">
						<body>
							<ST>/* -----------------------------------------------------------------&#9;*/
/* Type : Model of Operative Behaviour&#9;&#9;&#9;&#9;&#9;*/
/* Cat&#233;gorie :   batch&#9;&#9;&#9;&#9;&#9;&#9;&#9;*/
/* Author : Dassault Systemes&#9;&#9;&#9;&#9;&#9;&#9;*/
/* Update date : June 2018&#9;&#9;&#9;&#9;&#9;&#9;&#9;*/
/* -----------------------------------------------------------------&#9;*/
/* This module simulates the bahaviour of a conveyor-belt driven by&#9;*/
/* an analog value of the speed.             &#9;&#9;&#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/


/* Real variables of type 'double' are used for best accuracy&#9;&#9;*/
double head=0.0;&#9;/* Position of material's head   &#9;&#9;     &#9;*/
double tailEnd=0.0;&#9;/* Position of material's tail end &#9;&#9;*/
double incr=0.0;&#9;/* Increment of position for head and/or tail end&#9;*/
double diff=0.0;&#9;/* Length of material ejected by the conveyor-belt&#9;*/

head = materialHead;
tailEnd = materialTailEnd;

/* Manage the rotation controller&#9;&#9;&#9;&#9;&#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/
if (d_sticking) controllerRot = v_d_sticking;
else
&#9;controllerRot = (fabs(speed) &gt;= controllerRotThres) ^ !controllerLogic;



/* Compute the position of material's ejection&#9;&#9;&#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/
valvePassage=0;

if(openValve) {
&#9;if (speed&gt;0.0)
&#9;{
&#9;&#9;effectiveLength=fabs(depositPosition - conveyorLength);
&#9;&#9;if (valvePosition&gt;=depositPosition)&#9;
&#9;&#9;{
&#9;&#9;&#9;effectiveLength=fabs(depositPosition - valvePosition);
&#9;&#9;&#9;valvePassage=1;
&#9;&#9;}
&#9;}
&#9;else
&#9;{
&#9;&#9;effectiveLength=depositPosition;
&#9;&#9;if (valvePosition&lt;=depositPosition)&#9;
&#9;&#9;{
&#9;&#9;&#9;effectiveLength=fabs(depositPosition - valvePosition);
&#9;&#9;&#9;valvePassage=1;
&#9;&#9;}
&#9;}
}
else {
&#9;if (speed&gt;= 0.0) effectiveLength=fabs(depositPosition - conveyorLength);
&#9;else effectiveLength= depositPosition;
}

/* Compute the position of material&#9;&#9;&#9; &#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/

incr = speed * (CLOCK_PERIOD / 1000000);
increment =incr;

if  (volumeOn==0.0) {
       head=tailEnd=depositPosition;
&#9;materialHead = depositPosition;
       materialTailEnd =depositPosition;
}
if((volumeIn==0.0)&amp;&amp; (materialHead!=depositPosition)) {
&#9;head+=incr;
&#9;materialHead=head;
&#9;tailEnd+=incr;
&#9;materialTailEnd = tailEnd;
} 
 else {
 &#9;tailEnd=depositPosition;
&#9;materialTailEnd = depositPosition;
&#9;if ((volumeOn != 0.0) || (volumeIn != 0.0)) head+=incr;
&#9;materialHead=head;         
}



/* Compute the volume of material on the conveyor-belt bande        &#9;*/
/* ----------------------------------------------------------------&#9;*/
if ((materialHead-materialTailEnd !=0) || (speed==0.0))
{
          volumeOn += volumeIn;
}
if (volumeOn &lt; 0.0) volumeOn = 0.0;



/* Compute the volume of material ejected to BWD   &#9;&#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/
volumeOutBwd = 0.0;
volumeOutValve=0.0;
if ((speed&lt;0.0) &amp;&amp; (head&lt;0.0) &amp;&amp; !valvePassage) {
&#9;diff = fabs(head);
              
&#9;if (fabs(tailEnd - head) &gt; 0.0) {
&#9;&#9;volumeOutBwd= diff * volumeOn/ fabs(tailEnd - head);&#9;
&#9;}
&#9;else volumeOutBwd=volumeOn;

&#9;head=head+diff;
&#9;materialHead = head;

}
if ((speed&lt;0.0) &amp;&amp; (head &lt;= valvePosition) &amp;&amp; valvePassage) {
&#9;diff = -incr;
&#9;if (fabs(tailEnd - head) &gt; 0.0) {
&#9;&#9;volumeOutValve= diff * volumeOn/ fabs(tailEnd - head);&#9;
&#9;}
&#9;else volumeOutValve=volumeOn;

&#9;head=head+diff;
&#9;materialHead = head;
}


/* Compute the volume of material ejected to FWD   &#9;&#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/
volumeOutFwd = 0.0;
if ((speed&gt;0.0) &amp;&amp; (fabs(head) &gt; fabs(depositPosition+effectiveLength))) {
&#9;diff = fabs(fabs(head) - fabs(depositPosition+effectiveLength));
&#9;deviation = diff;
&#9;if (diff &gt; 0.0) {
&#9;&#9;if(valvePassage) {
&#9;&#9;&#9;if(fabs(head - tailEnd)&gt;0.0) volumeOutValve = diff * volumeOn /fabs(head - tailEnd);
&#9;&#9;&#9;else volumeOutValve=volumeOn;
&#9;&#9;&#9;volumeOutFwd=0.0;
&#9;&#9;}
&#9;&#9;else {
&#9;&#9;&#9;if(fabs(head - tailEnd)&gt;0.0) volumeOutFwd = diff * volumeOn /fabs(head - tailEnd);
&#9;&#9;&#9;else volumeOutFwd=volumeOn;
&#9;&#9;&#9;volumeOutValve=0.0;
&#9;&#9;}
&#9;}
&#9;
&#9;head=head-diff;
&#9;materialHead = head;
}



/* Compute the volume of material on the conveyor   &#9;&#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/
volumeOn +=  - (volumeOutBwd+volumeOutFwd+volumeOutValve);



</ST>
						</body>
					</action>
					<action name="C_header">
						<body>
							<ST>#include&lt;math.h&gt; &#9;/* pour fonction fabs */</ST>
						</body>
					</action>
				</actions>
				<addData>
					<data name="Geensys.CB.COMPONENT_CLASS" handleUnknown="preserve">
						<value>SIMULATION</value>
					</data>
					<data name="Geensys.CB.COMPONENT_CLASS_UUID" handleUnknown="preserve">
						<value>259d51dd-3d3f-4b47-8521-c0425150bfee</value>
					</data>
					<data name="Geensys.CB.INSTANCE_NAMIMG_PATTERN" handleUnknown="preserve">
						<value>&lt;CLASS_PATTERN&gt;</value>
					</data>
					<data name="Geensys.CB.COMMENTS_PATTERN" handleUnknown="preserve">
						<value>&lt;CLASS_PATTERN&gt;</value>
					</data>
				</addData>
				<documentation>
					<xhtml:pre>This module simulates the behaviour of a conveyor-belt driven by an analog value of the speed.</xhtml:pre>
				</documentation>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations />
	</instances>
</project>