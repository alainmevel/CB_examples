/*2023-10-03T11:13:35-01:00*/

/********************************************************************
 * cmd_motor_2d2s_cov.c
 * 
 * generated by: plcgen 3.1.391
 ********************************************************************/

#include "cb_comp.h"
#include "cb_covs.h"
#include "iec_1131.h"


/********************************************************************
 *                  Inner 'actuator' declarations                   *
 ********************************************************************/


/********************** Variable declarations ***********************/

static CB_Index actuator__num;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoMode;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_manualMode;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoFwdCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoBwdCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoHSCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoLSCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_forwardPB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_backwardPB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_highSpeedPB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_lowSpeedPB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_stopPB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_generalFault;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_forwardCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_backwardCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_highSpeedCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_lowSpeedCmd;

/********************** Function declarations ***********************/

static int _cmd_equipment_library__actuator_init(void);
static int cmd_equipment_library__actuator(void);

/********************************************************************
 *                   Inner 'faults' declarations                    *
 ********************************************************************/


/********************** Variable declarations ***********************/

static CB_Index faults__num;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_forwardCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_backwardCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_highSpeedCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_lowSpeedCmd;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_thermalFB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_forwardFB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_backwardFB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_highSpeedFB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_lowSpeedFB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_acknowledgePB;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_generalFault;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_thermalFault;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_forwardFBFault;
extern CB_Mem_Bool *_i_cmd_motor_2d2s__faults_backwardFBFault;

/********************** Function declarations ***********************/

static int _cmd_equipment_library__faults_init(void);
static int cmd_equipment_library__faults(void);

/********************************************************************
 *                 Inner 'actuator' implementation                  *
 ********************************************************************/



/**************************** Variables *****************************/

static CB_Index actuator__num = 0;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoMode;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_manualMode;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoFwdCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoBwdCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoHSCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_autoLSCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_forwardPB;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_backwardPB;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_highSpeedPB;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_lowSpeedPB;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_stopPB;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_generalFault;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_forwardCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_backwardCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_highSpeedCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__actuator_lowSpeedCmd;

/**************************** Variables *****************************/

#define autoMode (_i_cmd_motor_2d2s__actuator_autoMode->CB_current_value)
#define manualMode (_i_cmd_motor_2d2s__actuator_manualMode->CB_current_value)
#define autoFwdCmd (_i_cmd_motor_2d2s__actuator_autoFwdCmd->CB_current_value)
#define autoBwdCmd (_i_cmd_motor_2d2s__actuator_autoBwdCmd->CB_current_value)
#define autoHSCmd (_i_cmd_motor_2d2s__actuator_autoHSCmd->CB_current_value)
#define autoLSCmd (_i_cmd_motor_2d2s__actuator_autoLSCmd->CB_current_value)
#define forwardPB (_i_cmd_motor_2d2s__actuator_forwardPB->CB_current_value)
#define backwardPB (_i_cmd_motor_2d2s__actuator_backwardPB->CB_current_value)
#define highSpeedPB (_i_cmd_motor_2d2s__actuator_highSpeedPB->CB_current_value)
#define lowSpeedPB (_i_cmd_motor_2d2s__actuator_lowSpeedPB->CB_current_value)
#define stopPB (_i_cmd_motor_2d2s__actuator_stopPB->CB_current_value)
#define generalFault (_i_cmd_motor_2d2s__actuator_generalFault->CB_current_value)
#define forwardCmd (_i_cmd_motor_2d2s__actuator_forwardCmd->CB_current_value)
#define backwardCmd (_i_cmd_motor_2d2s__actuator_backwardCmd->CB_current_value)
#define highSpeedCmd (_i_cmd_motor_2d2s__actuator_highSpeedCmd->CB_current_value)
#define lowSpeedCmd (_i_cmd_motor_2d2s__actuator_lowSpeedCmd->CB_current_value)


/************************ Components offsets ************************/


/********************* Initialization function **********************/

static int _cmd_equipment_library__actuator_init(void)
{


	return 0;
}


/************************ Behavior function *************************/

static int cmd_equipment_library__actuator(void)
{
	static char *__comp_name = "cmd_equipment_library.actuator";
	if (exec_term_node(self_num)) {

		/*********************** Internals variables ************************/


		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			unsigned char _1;
			unsigned char _6;
			unsigned char _2;
			unsigned char _3;
			unsigned char _8;
			unsigned char _4;
			unsigned char _7;
			unsigned char _10;
			unsigned char _9;
			unsigned char _12;
			unsigned char _17;
			unsigned char _13;
			unsigned char _14;
			unsigned char _19;
			unsigned char _15;
			unsigned char _18;
			unsigned char _21;
			unsigned char _20;
			unsigned char _23;
			unsigned char _28;
			unsigned char _24;
			unsigned char _25;
			unsigned char _26;
			unsigned char _29;
			unsigned char _36;
			unsigned char _30;
			unsigned char _35;
			unsigned char _31;
			unsigned char _32;
			unsigned char _33;
			unsigned char _38;
			unsigned char _37;
			_1 = autoMode;
			cov_output(__comp_name, self_num, 1, 0, _1);
			_6 = _1 && autoFwdCmd;
			cov_output(__comp_name, self_num, 6, 0, _6);
			_2 = manualMode;
			cov_output(__comp_name, self_num, 2, 0, _2);
			_3 = _2 && forwardPB;
			cov_output(__comp_name, self_num, 3, 0, _3);
			_8 = _3 && !backwardPB;
			cov_output(__comp_name, self_num, 8, 0, _8);
			_4 = _2 && forwardCmd;
			cov_output(__comp_name, self_num, 4, 0, _4);
			_7 = (_4 || _8) && !stopPB;
			cov_output(__comp_name, self_num, 7, 0, _7);
			_10 = _7 && !backwardCmd;
			cov_output(__comp_name, self_num, 10, 0, _10);
			_9 = (_6 || _10) && !generalFault;
			cov_output(__comp_name, self_num, 9, 0, _9);
			forwardCmd = _9;
			cov_output(__comp_name, self_num, 5, 0, forwardCmd);
			_12 = autoMode;
			cov_output(__comp_name, self_num, 12, 0, _12);
			_17 = _12 && autoBwdCmd;
			cov_output(__comp_name, self_num, 17, 0, _17);
			_13 = manualMode;
			cov_output(__comp_name, self_num, 13, 0, _13);
			_14 = _13 && backwardPB;
			cov_output(__comp_name, self_num, 14, 0, _14);
			_19 = _14 && !forwardPB;
			cov_output(__comp_name, self_num, 19, 0, _19);
			_15 = _13 && backwardCmd;
			cov_output(__comp_name, self_num, 15, 0, _15);
			_18 = (_15 || _19) && !stopPB;
			cov_output(__comp_name, self_num, 18, 0, _18);
			_21 = _18 && !forwardCmd;
			cov_output(__comp_name, self_num, 21, 0, _21);
			_20 = (_17 || _21) && !generalFault;
			cov_output(__comp_name, self_num, 20, 0, _20);
			backwardCmd = _20;
			cov_output(__comp_name, self_num, 16, 0, backwardCmd);
			_23 = autoMode;
			cov_output(__comp_name, self_num, 23, 0, _23);
			_28 = _23 && autoHSCmd;
			cov_output(__comp_name, self_num, 28, 0, _28);
			_24 = manualMode;
			cov_output(__comp_name, self_num, 24, 0, _24);
			_25 = _24 && highSpeedPB;
			cov_output(__comp_name, self_num, 25, 0, _25);
			_26 = _24 && highSpeedCmd;
			cov_output(__comp_name, self_num, 26, 0, _26);
			_29 = (_25 || _26) && !lowSpeedPB;
			cov_output(__comp_name, self_num, 29, 0, _29);
			_36 = (_28 || _29) && !generalFault;
			cov_output(__comp_name, self_num, 36, 0, _36);
			highSpeedCmd = _36;
			cov_output(__comp_name, self_num, 27, 0, highSpeedCmd);
			_30 = autoMode;
			cov_output(__comp_name, self_num, 30, 0, _30);
			_35 = _30 && autoLSCmd;
			cov_output(__comp_name, self_num, 35, 0, _35);
			_31 = manualMode;
			cov_output(__comp_name, self_num, 31, 0, _31);
			_32 = _31 && lowSpeedPB;
			cov_output(__comp_name, self_num, 32, 0, _32);
			_33 = _31 && lowSpeedCmd;
			cov_output(__comp_name, self_num, 33, 0, _33);
			_38 = (_32 || _33) && !highSpeedPB;
			cov_output(__comp_name, self_num, 38, 0, _38);
			_37 = (_35 || _38) && !generalFault;
			cov_output(__comp_name, self_num, 37, 0, _37);
			lowSpeedCmd = _37;
			cov_output(__comp_name, self_num, 34, 0, lowSpeedCmd);
		}

		CB_post_bool(_i_cmd_motor_2d2s__actuator_forwardCmd);
		CB_post_bool(_i_cmd_motor_2d2s__actuator_backwardCmd);
		CB_post_bool(_i_cmd_motor_2d2s__actuator_highSpeedCmd);
		CB_post_bool(_i_cmd_motor_2d2s__actuator_lowSpeedCmd);

		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/


	return 0;
}

#undef autoMode
#undef manualMode
#undef autoFwdCmd
#undef autoBwdCmd
#undef autoHSCmd
#undef autoLSCmd
#undef forwardPB
#undef backwardPB
#undef highSpeedPB
#undef lowSpeedPB
#undef stopPB
#undef generalFault
#undef forwardCmd
#undef backwardCmd
#undef highSpeedCmd
#undef lowSpeedCmd

/********************************************************************
 *                  Inner 'faults' implementation                   *
 ********************************************************************/

#include "timers_counters/functional/cb_ton/cb_ton.h"


/**************************** Variables *****************************/

static CB_Index faults__num = 0;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_forwardCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_backwardCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_highSpeedCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_lowSpeedCmd;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_thermalFB;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_forwardFB;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_backwardFB;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_highSpeedFB;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_lowSpeedFB;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_acknowledgePB;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_generalFault;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_thermalFault;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_forwardFBFault;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_backwardFBFault;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_TON_FW_IN;
CB_Mem_Int *_i_cmd_motor_2d2s__faults_TON_FW_PT;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_TON_FW_Q0;
CB_Mem_Int *_i_cmd_motor_2d2s__faults_TON_FW_CV;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_TON_BW_IN;
CB_Mem_Int *_i_cmd_motor_2d2s__faults_TON_BW_PT;
CB_Mem_Bool *_i_cmd_motor_2d2s__faults_TON_BW_Q0;
CB_Mem_Int *_i_cmd_motor_2d2s__faults_TON_BW_CV;

/**************************** Variables *****************************/

#define forwardCmd (_i_cmd_motor_2d2s__faults_forwardCmd->CB_current_value)
#define backwardCmd (_i_cmd_motor_2d2s__faults_backwardCmd->CB_current_value)
#define highSpeedCmd (_i_cmd_motor_2d2s__faults_highSpeedCmd->CB_current_value)
#define lowSpeedCmd (_i_cmd_motor_2d2s__faults_lowSpeedCmd->CB_current_value)
#define thermalFB (_i_cmd_motor_2d2s__faults_thermalFB->CB_current_value)
#define forwardFB (_i_cmd_motor_2d2s__faults_forwardFB->CB_current_value)
#define backwardFB (_i_cmd_motor_2d2s__faults_backwardFB->CB_current_value)
#define highSpeedFB (_i_cmd_motor_2d2s__faults_highSpeedFB->CB_current_value)
#define lowSpeedFB (_i_cmd_motor_2d2s__faults_lowSpeedFB->CB_current_value)
#define acknowledgePB (_i_cmd_motor_2d2s__faults_acknowledgePB->CB_current_value)
#define generalFault (_i_cmd_motor_2d2s__faults_generalFault->CB_current_value)
#define thermalFault (_i_cmd_motor_2d2s__faults_thermalFault->CB_current_value)
#define forwardFBFault (_i_cmd_motor_2d2s__faults_forwardFBFault->CB_current_value)
#define backwardFBFault (_i_cmd_motor_2d2s__faults_backwardFBFault->CB_current_value)
#define TON_FW_IN (_i_cmd_motor_2d2s__faults_TON_FW_IN->CB_current_value)
#define TON_FW_PT(i) (_i_cmd_motor_2d2s__faults_TON_FW_PT[i+1].CB_current_value)
#define TON_FW_Q0 (_i_cmd_motor_2d2s__faults_TON_FW_Q0->CB_current_value)
#define TON_FW_CV(i) (_i_cmd_motor_2d2s__faults_TON_FW_CV[i+1].CB_current_value)
#define TON_BW_IN (_i_cmd_motor_2d2s__faults_TON_BW_IN->CB_current_value)
#define TON_BW_PT(i) (_i_cmd_motor_2d2s__faults_TON_BW_PT[i+1].CB_current_value)
#define TON_BW_Q0 (_i_cmd_motor_2d2s__faults_TON_BW_Q0->CB_current_value)
#define TON_BW_CV(i) (_i_cmd_motor_2d2s__faults_TON_BW_CV[i+1].CB_current_value)


/************************ Components offsets ************************/

static CB_Index cmd_equipment_library__faults_dnum_TON_FW;
static CB_Index cmd_equipment_library__faults_dnum_TON_BW;
static CB_Index cmd_equipment_library__faults_dnum__end;

static CB_Offset cmd_equipment_library__faults_offset_TON_FW;
static CB_Offset cmd_equipment_library__faults_offset_TON_BW;
static CB_Offset cmd_equipment_library__faults_offset__end = {0, 0, 0, 0};


/********************* Initialization function **********************/

static int _cmd_equipment_library__faults_init(void)
{
	CB_Index __my_num = self_num;
	CB_Object __start = self;
	self.Bool+=7;
	self.Int+=16;

	/*initialize child TON_FW (timers_counters.cb_ton):*/
	self_num++;
	cmd_equipment_library__faults_dnum_TON_FW = self_num - __my_num;
	cmd_equipment_library__faults_offset_TON_FW.Bool = self.Bool - __start.Bool;
	cmd_equipment_library__faults_offset_TON_FW.Int = self.Int - __start.Int;
	cmd_equipment_library__faults_offset_TON_FW.Float = self.Float - __start.Float;
	cmd_equipment_library__faults_offset_TON_FW.Char = self.Char - __start.Char;
	cb_ton_IN = __start.Bool+3; /*TON_FW_IN*/
	cb_ton_PT = __start.Int+0; /*TON_FW_PT*/
	cb_ton_Q0 = __start.Bool+4; /*TON_FW_Q0*/
	cb_ton_CV = __start.Int+4; /*TON_FW_CV*/
	_timers_counters__cb_ton_init();

	/*initialize child TON_BW (timers_counters.cb_ton):*/
	self_num++;
	cmd_equipment_library__faults_dnum_TON_BW = self_num - __my_num;
	cmd_equipment_library__faults_offset_TON_BW.Bool = self.Bool - __start.Bool;
	cmd_equipment_library__faults_offset_TON_BW.Int = self.Int - __start.Int;
	cmd_equipment_library__faults_offset_TON_BW.Float = self.Float - __start.Float;
	cmd_equipment_library__faults_offset_TON_BW.Char = self.Char - __start.Char;
	cb_ton_IN = __start.Bool+5; /*TON_BW_IN*/
	cb_ton_PT = __start.Int+8; /*TON_BW_PT*/
	cb_ton_Q0 = __start.Bool+6; /*TON_BW_Q0*/
	cb_ton_CV = __start.Int+12; /*TON_BW_CV*/
	_timers_counters__cb_ton_init();

	cmd_equipment_library__faults_dnum__end = self_num - __my_num;
	cmd_equipment_library__faults_offset__end.Bool = self.Bool - __start.Bool;
	cmd_equipment_library__faults_offset__end.Int = self.Int - __start.Int;
	cmd_equipment_library__faults_offset__end.Float = self.Float - __start.Float;
	cmd_equipment_library__faults_offset__end.Char = self.Char - __start.Char;

	return 0;
}


/************************ Behavior function *************************/

static int cmd_equipment_library__faults(void)
{
	CB_Object __start = self;
	CB_Index __my_num = self_num;
	int __ret;
	static char *__comp_name = "cmd_equipment_library.faults";
	if (exec_term_node(self_num)) {

		/*********************** Internals variables ************************/

		_i_cmd_motor_2d2s__faults_thermalFault = self.Bool+0;
		_i_cmd_motor_2d2s__faults_forwardFBFault = self.Bool+1;
		_i_cmd_motor_2d2s__faults_backwardFBFault = self.Bool+2;
		_i_cmd_motor_2d2s__faults_TON_FW_IN = self.Bool+3;
		_i_cmd_motor_2d2s__faults_TON_FW_PT = self.Int+0;
		_i_cmd_motor_2d2s__faults_TON_FW_Q0 = self.Bool+4;
		_i_cmd_motor_2d2s__faults_TON_FW_CV = self.Int+4;
		_i_cmd_motor_2d2s__faults_TON_BW_IN = self.Bool+5;
		_i_cmd_motor_2d2s__faults_TON_BW_PT = self.Int+8;
		_i_cmd_motor_2d2s__faults_TON_BW_Q0 = self.Bool+6;
		_i_cmd_motor_2d2s__faults_TON_BW_CV = self.Int+12;

		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			static CB_Mem_Int __literal_0[4] = {
				cb_int_header(2),
				cb_int(0),
				cb_int(20000)
			};
			static CB_Mem_Int __literal_1[4] = {
				cb_int_header(2),
				cb_int(0),
				cb_int(20000)
			};
			unsigned char _1;
			unsigned char _10;
			unsigned char _11;
			unsigned char _7;
			unsigned char _14_Q0;
			CB_Mem_Int _14_CV[4] =  { cb_int_header(2) };
			unsigned char _16;
			unsigned char _17;
			unsigned char _18;
			unsigned char _20;
			unsigned char _19;
			unsigned char _21;
			unsigned char _12;
			unsigned char _13;
			unsigned char _9;
			unsigned char _15_Q0;
			CB_Mem_Int _15_CV[4] =  { cb_int_header(2) };
			unsigned char _22;
			unsigned char _23;
			unsigned char _25;
			unsigned char _27;
			unsigned char _26;
			unsigned char _28;
			unsigned char _31;
			unsigned char _33;
			unsigned char _34;
			unsigned char _36;
			_1 = acknowledgePB;
			cov_output(__comp_name, self_num, 1, 0, _1);
			if (_1) {
				thermalFault = 0;
			}
			cov_output(__comp_name, self_num, 2, 0, thermalFault);
			if (_1) {
				forwardFBFault = 0;
			}
			cov_output(__comp_name, self_num, 3, 0, forwardFBFault);
			if (_1) {
				backwardFBFault = 0;
			}
			cov_output(__comp_name, self_num, 5, 0, backwardFBFault);
			if (_1) {
				generalFault = 0;
			}
			cov_output(__comp_name, self_num, 4, 0, generalFault);
			_10 = highSpeedCmd;
			cov_output(__comp_name, self_num, 10, 0, _10);
			_11 = lowSpeedCmd;
			cov_output(__comp_name, self_num, 11, 0, _11);
			_7 = (_10 || _11) && forwardCmd;
			cov_output(__comp_name, self_num, 7, 0, _7);
			/*call user FB TON_FW():*/
			TON_FW_IN = _7;
			copy_int_array(_i_cmd_motor_2d2s__faults_TON_FW_PT, __literal_0, 2);
			self.Bool = __start.Bool + cmd_equipment_library__faults_offset_TON_FW.Bool;
			self.Int = __start.Int + cmd_equipment_library__faults_offset_TON_FW.Int;
			self.Float = __start.Float + cmd_equipment_library__faults_offset_TON_FW.Float;
			self.Char = __start.Char + cmd_equipment_library__faults_offset_TON_FW.Char;
			self_num = __my_num + cmd_equipment_library__faults_dnum_TON_FW;
			if (cb_ton__num != self_num) {
				cb_ton__num = self_num;
				cb_ton_IN = _i_cmd_motor_2d2s__faults_TON_FW_IN;
				cb_ton_PT = _i_cmd_motor_2d2s__faults_TON_FW_PT;
				cb_ton_Q0 = _i_cmd_motor_2d2s__faults_TON_FW_Q0;
				cb_ton_CV = _i_cmd_motor_2d2s__faults_TON_FW_CV;
			}
			__ret = timers_counters__cb_ton();
			if (__ret != 0) {
				return __ret; /*user FB failure*/
			}
			self_num = __my_num;
			_14_Q0 = TON_FW_Q0;
			copy_int_array(_14_CV, _i_cmd_motor_2d2s__faults_TON_FW_CV, 2);
			/*end TON_FW()*/
			cov_output(__comp_name, self_num, 14, 1, _14_Q0);
			cov_output_array(__comp_name, self_num, 14, 2, _14_CV);
			_16 = TON_FW_Q0;
			cov_output(__comp_name, self_num, 16, 0, _16);
			_17 = _16 && !forwardFB;
			cov_output(__comp_name, self_num, 17, 0, _17);
			_18 = _16 && highSpeedCmd;
			cov_output(__comp_name, self_num, 18, 0, _18);
			_20 = _18 && !highSpeedFB;
			cov_output(__comp_name, self_num, 20, 0, _20);
			_19 = _16 && lowSpeedCmd;
			cov_output(__comp_name, self_num, 19, 0, _19);
			_21 = _19 && !lowSpeedFB;
			cov_output(__comp_name, self_num, 21, 0, _21);
			if ((_17 || _20) || _21) {
				forwardFBFault = 1;
			}
			cov_output(__comp_name, self_num, 8, 0, forwardFBFault);
			_12 = highSpeedCmd;
			cov_output(__comp_name, self_num, 12, 0, _12);
			_13 = lowSpeedCmd;
			cov_output(__comp_name, self_num, 13, 0, _13);
			_9 = (_13 || _12) && backwardCmd;
			cov_output(__comp_name, self_num, 9, 0, _9);
			/*call user FB TON_BW():*/
			TON_BW_IN = _9;
			copy_int_array(_i_cmd_motor_2d2s__faults_TON_BW_PT, __literal_1, 2);
			self.Bool = __start.Bool + cmd_equipment_library__faults_offset_TON_BW.Bool;
			self.Int = __start.Int + cmd_equipment_library__faults_offset_TON_BW.Int;
			self.Float = __start.Float + cmd_equipment_library__faults_offset_TON_BW.Float;
			self.Char = __start.Char + cmd_equipment_library__faults_offset_TON_BW.Char;
			self_num = __my_num + cmd_equipment_library__faults_dnum_TON_BW;
			if (cb_ton__num != self_num) {
				cb_ton__num = self_num;
				cb_ton_IN = _i_cmd_motor_2d2s__faults_TON_BW_IN;
				cb_ton_PT = _i_cmd_motor_2d2s__faults_TON_BW_PT;
				cb_ton_Q0 = _i_cmd_motor_2d2s__faults_TON_BW_Q0;
				cb_ton_CV = _i_cmd_motor_2d2s__faults_TON_BW_CV;
			}
			__ret = timers_counters__cb_ton();
			if (__ret != 0) {
				return __ret; /*user FB failure*/
			}
			self_num = __my_num;
			_15_Q0 = TON_BW_Q0;
			copy_int_array(_15_CV, _i_cmd_motor_2d2s__faults_TON_BW_CV, 2);
			/*end TON_BW()*/
			cov_output(__comp_name, self_num, 15, 1, _15_Q0);
			cov_output_array(__comp_name, self_num, 15, 2, _15_CV);
			_22 = TON_BW_Q0;
			cov_output(__comp_name, self_num, 22, 0, _22);
			_23 = _22 && !backwardFB;
			cov_output(__comp_name, self_num, 23, 0, _23);
			_25 = _22 && highSpeedCmd;
			cov_output(__comp_name, self_num, 25, 0, _25);
			_27 = _25 && !highSpeedFB;
			cov_output(__comp_name, self_num, 27, 0, _27);
			_26 = _22 && lowSpeedCmd;
			cov_output(__comp_name, self_num, 26, 0, _26);
			_28 = _26 && !lowSpeedFB;
			cov_output(__comp_name, self_num, 28, 0, _28);
			if ((_23 || _28) || _27) {
				backwardFBFault = 1;
			}
			cov_output(__comp_name, self_num, 24, 0, backwardFBFault);
			_31 = !thermalFB;
			cov_output(__comp_name, self_num, 31, 0, _31);
			if (_31) {
				thermalFault = 1;
			}
			cov_output(__comp_name, self_num, 30, 0, thermalFault);
			_33 = thermalFault;
			cov_output(__comp_name, self_num, 33, 0, _33);
			_34 = forwardFBFault;
			cov_output(__comp_name, self_num, 34, 0, _34);
			_36 = backwardFBFault;
			cov_output(__comp_name, self_num, 36, 0, _36);
			if ((_33 || _34) || _36) {
				generalFault = 1;
			}
			cov_output(__comp_name, self_num, 35, 0, generalFault);
		}

		if(nb_alloc > 0) {
			free_all_alloc();
		}

		CB_post_bool(_i_cmd_motor_2d2s__faults_generalFault);

		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/

	self_num = __my_num + cmd_equipment_library__faults_dnum__end;
	self.Bool = __start.Bool + cmd_equipment_library__faults_offset__end.Bool;
	self.Int = __start.Int + cmd_equipment_library__faults_offset__end.Int;
	self.Float = __start.Float + cmd_equipment_library__faults_offset__end.Float;
	self.Char = __start.Char + cmd_equipment_library__faults_offset__end.Char;

	return 0;
}

#undef forwardCmd
#undef backwardCmd
#undef highSpeedCmd
#undef lowSpeedCmd
#undef thermalFB
#undef forwardFB
#undef backwardFB
#undef highSpeedFB
#undef lowSpeedFB
#undef acknowledgePB
#undef generalFault
#undef thermalFault
#undef forwardFBFault
#undef backwardFBFault
#undef TON_FW_IN
#undef TON_FW_PT
#undef TON_FW_Q0
#undef TON_FW_CV
#undef TON_BW_IN
#undef TON_BW_PT
#undef TON_BW_Q0
#undef TON_BW_CV

/********************************************************************
 *   Public 'cmd_equipment_library.cmd_motor_2d2s' implementation   *
 ********************************************************************/

#include "cmd_motor_2d2s.h"


/**************************** Variables *****************************/

CB_Index cmd_motor_2d2s__num = 0;
CB_Mem_Bool *cmd_motor_2d2s_autoMode;
CB_Mem_Bool *cmd_motor_2d2s_manualMode;
CB_Mem_Bool *cmd_motor_2d2s_autoFwdCmd;
CB_Mem_Bool *cmd_motor_2d2s_autoBwdCmd;
CB_Mem_Bool *cmd_motor_2d2s_autoHSCmd;
CB_Mem_Bool *cmd_motor_2d2s_autoLSCmd;
CB_Mem_Bool *cmd_motor_2d2s_forwardPB;
CB_Mem_Bool *cmd_motor_2d2s_backwardPB;
CB_Mem_Bool *cmd_motor_2d2s_highSpeedPB;
CB_Mem_Bool *cmd_motor_2d2s_lowSpeedPB;
CB_Mem_Bool *cmd_motor_2d2s_stopPB;
CB_Mem_Bool *cmd_motor_2d2s_forwardFB;
CB_Mem_Bool *cmd_motor_2d2s_backwardFB;
CB_Mem_Bool *cmd_motor_2d2s_highSpeedFB;
CB_Mem_Bool *cmd_motor_2d2s_lowSpeedFB;
CB_Mem_Bool *cmd_motor_2d2s_thermalFB;
CB_Mem_Bool *cmd_motor_2d2s_acknowledgePB;
CB_Mem_Bool *cmd_motor_2d2s_forwardCmd;
CB_Mem_Bool *cmd_motor_2d2s_backwardCmd;
CB_Mem_Bool *cmd_motor_2d2s_highSpeedCmd;
CB_Mem_Bool *cmd_motor_2d2s_lowSpeedCmd;
CB_Mem_Bool *cmd_motor_2d2s_generalFault;

/**************************** Variables *****************************/



/************************ Components offsets ************************/

static CB_Offset cmd_equipment_library__cmd_motor_2d2s_offset_actions;
static CB_Offset cmd_equipment_library__cmd_motor_2d2s_offset_faults1;
static CB_Offset cmd_equipment_library__cmd_motor_2d2s_offset__end = {0, 0, 0, 0};


/********************* Initialization function **********************/

int _cmd_equipment_library__cmd_motor_2d2s_init(void)
{
	CB_Object __start = self;

	/*initialize child actions (cmd_equipment_library.actuator):*/
	self_num++;
	cmd_equipment_library__cmd_motor_2d2s_offset_actions.Bool = self.Bool - __start.Bool;
	cmd_equipment_library__cmd_motor_2d2s_offset_actions.Int = self.Int - __start.Int;
	cmd_equipment_library__cmd_motor_2d2s_offset_actions.Float = self.Float - __start.Float;
	cmd_equipment_library__cmd_motor_2d2s_offset_actions.Char = self.Char - __start.Char;
	_i_cmd_motor_2d2s__actuator_autoMode = cmd_motor_2d2s_autoMode;
	_i_cmd_motor_2d2s__actuator_manualMode = cmd_motor_2d2s_manualMode;
	_i_cmd_motor_2d2s__actuator_autoFwdCmd = cmd_motor_2d2s_autoFwdCmd;
	_i_cmd_motor_2d2s__actuator_autoBwdCmd = cmd_motor_2d2s_autoBwdCmd;
	_i_cmd_motor_2d2s__actuator_autoHSCmd = cmd_motor_2d2s_autoHSCmd;
	_i_cmd_motor_2d2s__actuator_autoLSCmd = cmd_motor_2d2s_autoLSCmd;
	_i_cmd_motor_2d2s__actuator_forwardPB = cmd_motor_2d2s_forwardPB;
	_i_cmd_motor_2d2s__actuator_backwardPB = cmd_motor_2d2s_backwardPB;
	_i_cmd_motor_2d2s__actuator_highSpeedPB = cmd_motor_2d2s_highSpeedPB;
	_i_cmd_motor_2d2s__actuator_lowSpeedPB = cmd_motor_2d2s_lowSpeedPB;
	_i_cmd_motor_2d2s__actuator_stopPB = cmd_motor_2d2s_stopPB;
	_i_cmd_motor_2d2s__actuator_generalFault = cmd_motor_2d2s_generalFault;
	_i_cmd_motor_2d2s__actuator_forwardCmd = cmd_motor_2d2s_forwardCmd;
	_i_cmd_motor_2d2s__actuator_backwardCmd = cmd_motor_2d2s_backwardCmd;
	_i_cmd_motor_2d2s__actuator_highSpeedCmd = cmd_motor_2d2s_highSpeedCmd;
	_i_cmd_motor_2d2s__actuator_lowSpeedCmd = cmd_motor_2d2s_lowSpeedCmd;
	_cmd_equipment_library__actuator_init();

	/*initialize child faults1 (cmd_equipment_library.faults):*/
	self_num++;
	cmd_equipment_library__cmd_motor_2d2s_offset_faults1.Bool = self.Bool - __start.Bool;
	cmd_equipment_library__cmd_motor_2d2s_offset_faults1.Int = self.Int - __start.Int;
	cmd_equipment_library__cmd_motor_2d2s_offset_faults1.Float = self.Float - __start.Float;
	cmd_equipment_library__cmd_motor_2d2s_offset_faults1.Char = self.Char - __start.Char;
	_i_cmd_motor_2d2s__faults_forwardCmd = cmd_motor_2d2s_forwardCmd;
	_i_cmd_motor_2d2s__faults_backwardCmd = cmd_motor_2d2s_backwardCmd;
	_i_cmd_motor_2d2s__faults_highSpeedCmd = cmd_motor_2d2s_highSpeedCmd;
	_i_cmd_motor_2d2s__faults_lowSpeedCmd = cmd_motor_2d2s_lowSpeedCmd;
	_i_cmd_motor_2d2s__faults_thermalFB = cmd_motor_2d2s_thermalFB;
	_i_cmd_motor_2d2s__faults_forwardFB = cmd_motor_2d2s_forwardFB;
	_i_cmd_motor_2d2s__faults_backwardFB = cmd_motor_2d2s_backwardFB;
	_i_cmd_motor_2d2s__faults_highSpeedFB = cmd_motor_2d2s_highSpeedFB;
	_i_cmd_motor_2d2s__faults_lowSpeedFB = cmd_motor_2d2s_lowSpeedFB;
	_i_cmd_motor_2d2s__faults_acknowledgePB = cmd_motor_2d2s_acknowledgePB;
	_i_cmd_motor_2d2s__faults_generalFault = cmd_motor_2d2s_generalFault;
	_cmd_equipment_library__faults_init();

	cmd_equipment_library__cmd_motor_2d2s_offset__end.Bool = self.Bool - __start.Bool;
	cmd_equipment_library__cmd_motor_2d2s_offset__end.Int = self.Int - __start.Int;
	cmd_equipment_library__cmd_motor_2d2s_offset__end.Float = self.Float - __start.Float;
	cmd_equipment_library__cmd_motor_2d2s_offset__end.Char = self.Char - __start.Char;

	return 0;
}


/************************ Behavior function *************************/

int cmd_equipment_library__cmd_motor_2d2s(void)
{
	CB_Object __start = self;
	int __ret;
	static char *__comp_name = "cmd_equipment_library.cmd_motor_2d2s";
	if (exec_mac_node(self_num)) {

		/*********************** Internals variables ************************/


		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			self.Bool = __start.Bool + cmd_equipment_library__cmd_motor_2d2s_offset_actions.Bool;
			self.Int = __start.Int + cmd_equipment_library__cmd_motor_2d2s_offset_actions.Int;
			self.Float = __start.Float + cmd_equipment_library__cmd_motor_2d2s_offset_actions.Float;
			self.Char = __start.Char + cmd_equipment_library__cmd_motor_2d2s_offset_actions.Char;

			/************************ actions execution *************************/

			self_num++;
			if (actuator__num != self_num) {
				actuator__num = self_num;
				_i_cmd_motor_2d2s__actuator_autoMode = cmd_motor_2d2s_autoMode;
				_i_cmd_motor_2d2s__actuator_manualMode = cmd_motor_2d2s_manualMode;
				_i_cmd_motor_2d2s__actuator_autoFwdCmd = cmd_motor_2d2s_autoFwdCmd;
				_i_cmd_motor_2d2s__actuator_autoBwdCmd = cmd_motor_2d2s_autoBwdCmd;
				_i_cmd_motor_2d2s__actuator_autoHSCmd = cmd_motor_2d2s_autoHSCmd;
				_i_cmd_motor_2d2s__actuator_autoLSCmd = cmd_motor_2d2s_autoLSCmd;
				_i_cmd_motor_2d2s__actuator_forwardPB = cmd_motor_2d2s_forwardPB;
				_i_cmd_motor_2d2s__actuator_backwardPB = cmd_motor_2d2s_backwardPB;
				_i_cmd_motor_2d2s__actuator_highSpeedPB = cmd_motor_2d2s_highSpeedPB;
				_i_cmd_motor_2d2s__actuator_lowSpeedPB = cmd_motor_2d2s_lowSpeedPB;
				_i_cmd_motor_2d2s__actuator_stopPB = cmd_motor_2d2s_stopPB;
				_i_cmd_motor_2d2s__actuator_generalFault = cmd_motor_2d2s_generalFault;
				_i_cmd_motor_2d2s__actuator_forwardCmd = cmd_motor_2d2s_forwardCmd;
				_i_cmd_motor_2d2s__actuator_backwardCmd = cmd_motor_2d2s_backwardCmd;
				_i_cmd_motor_2d2s__actuator_highSpeedCmd = cmd_motor_2d2s_highSpeedCmd;
				_i_cmd_motor_2d2s__actuator_lowSpeedCmd = cmd_motor_2d2s_lowSpeedCmd;
			}
			__ret = cmd_equipment_library__actuator();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/************************ faults1 execution *************************/

			self_num++;
			if (faults__num != self_num) {
				faults__num = self_num;
				_i_cmd_motor_2d2s__faults_forwardCmd = cmd_motor_2d2s_forwardCmd;
				_i_cmd_motor_2d2s__faults_backwardCmd = cmd_motor_2d2s_backwardCmd;
				_i_cmd_motor_2d2s__faults_highSpeedCmd = cmd_motor_2d2s_highSpeedCmd;
				_i_cmd_motor_2d2s__faults_lowSpeedCmd = cmd_motor_2d2s_lowSpeedCmd;
				_i_cmd_motor_2d2s__faults_thermalFB = cmd_motor_2d2s_thermalFB;
				_i_cmd_motor_2d2s__faults_forwardFB = cmd_motor_2d2s_forwardFB;
				_i_cmd_motor_2d2s__faults_backwardFB = cmd_motor_2d2s_backwardFB;
				_i_cmd_motor_2d2s__faults_highSpeedFB = cmd_motor_2d2s_highSpeedFB;
				_i_cmd_motor_2d2s__faults_lowSpeedFB = cmd_motor_2d2s_lowSpeedFB;
				_i_cmd_motor_2d2s__faults_acknowledgePB = cmd_motor_2d2s_acknowledgePB;
				_i_cmd_motor_2d2s__faults_generalFault = cmd_motor_2d2s_generalFault;
			}
			__ret = cmd_equipment_library__faults();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

		}


		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/

	self.Bool = __start.Bool + cmd_equipment_library__cmd_motor_2d2s_offset__end.Bool;
	self.Int = __start.Int + cmd_equipment_library__cmd_motor_2d2s_offset__end.Int;
	self.Float = __start.Float + cmd_equipment_library__cmd_motor_2d2s_offset__end.Float;
	self.Char = __start.Char + cmd_equipment_library__cmd_motor_2d2s_offset__end.Char;

	return 0;
}

