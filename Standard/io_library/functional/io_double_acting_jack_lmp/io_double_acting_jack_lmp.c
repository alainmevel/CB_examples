/*2023-10-03T11:12:47-01:00*/

/********************************************************************
 * io_double_acting_jack_lmp.c
 * 
 * generated by: plcgen 3.1.391
 ********************************************************************/

#include "cb_comp.h"
#include "iec_1131.h"


/********************************************************************
 *                    Inner 'panel' declarations                    *
 ********************************************************************/


/********************** Variable declarations ***********************/

static CB_Index panel__num;
extern CB_Mem_Bool *_i_io_double_acting_jack_lmp__panel_valveWorkPB;
extern CB_Mem_Bool *_i_io_double_acting_jack_lmp__panel_valveRestPB;

/********************** Function declarations ***********************/

static int _io_library__panel_init(void);
static int io_library__panel(void);

/********************************************************************
 *                   Inner 'panel' implementation                   *
 ********************************************************************/

#include "equipment_library/functional/switch_3pos_2outputs/switch_3pos_2outputs.h"


/**************************** Variables *****************************/

static CB_Index panel__num = 0;
CB_Mem_Bool *_i_io_double_acting_jack_lmp__panel_valveWorkPB;
CB_Mem_Bool *_i_io_double_acting_jack_lmp__panel_valveRestPB;

/**************************** Variables *****************************/



/************************ Components offsets ************************/

static CB_Offset io_library__panel_offset_switch;
static CB_Offset io_library__panel_offset__end = {0, 0, 0, 0};


/********************* Initialization function **********************/

static int _io_library__panel_init(void)
{
	CB_Object __start = self;

	/*initialize child switch (equipment_library.switch_3pos_2outputs):*/
	self_num++;
	io_library__panel_offset_switch.Bool = self.Bool - __start.Bool;
	io_library__panel_offset_switch.Int = self.Int - __start.Int;
	io_library__panel_offset_switch.Float = self.Float - __start.Float;
	io_library__panel_offset_switch.Char = self.Char - __start.Char;
	switch_3pos_2outputs_leftVariable = _i_io_double_acting_jack_lmp__panel_valveRestPB;
	switch_3pos_2outputs_rightVariable = _i_io_double_acting_jack_lmp__panel_valveWorkPB;
	_equipment_library__switch_3pos_2outputs_init();

	io_library__panel_offset__end.Bool = self.Bool - __start.Bool;
	io_library__panel_offset__end.Int = self.Int - __start.Int;
	io_library__panel_offset__end.Float = self.Float - __start.Float;
	io_library__panel_offset__end.Char = self.Char - __start.Char;

	return 0;
}


/************************ Behavior function *************************/

static int io_library__panel(void)
{
	CB_Object __start = self;
	int __ret;
	if (exec_mac_node(self_num)) {

		/*********************** Internals variables ************************/


		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			self.Bool = __start.Bool + io_library__panel_offset_switch.Bool;
			self.Int = __start.Int + io_library__panel_offset_switch.Int;
			self.Float = __start.Float + io_library__panel_offset_switch.Float;
			self.Char = __start.Char + io_library__panel_offset_switch.Char;

			/************************* switch execution *************************/

			self_num++;
			if (switch_3pos_2outputs__num != self_num) {
				switch_3pos_2outputs__num = self_num;
				switch_3pos_2outputs_leftVariable = _i_io_double_acting_jack_lmp__panel_valveRestPB;
				switch_3pos_2outputs_rightVariable = _i_io_double_acting_jack_lmp__panel_valveWorkPB;
			}
			__ret = equipment_library__switch_3pos_2outputs();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

		}


		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/

	self.Bool = __start.Bool + io_library__panel_offset__end.Bool;
	self.Int = __start.Int + io_library__panel_offset__end.Int;
	self.Float = __start.Float + io_library__panel_offset__end.Float;
	self.Char = __start.Char + io_library__panel_offset__end.Char;

	return 0;
}


/********************************************************************
 *   Public 'io_library.io_double_acting_jack_lmp' implementation   *
 ********************************************************************/

#include "io_double_acting_jack_lmp.h"
#include "cmd_equipment_library/functional/cmd_double_acting_jack_lmp/cmd_double_acting_jack_lmp.h"
#include "equipment_library/functional/double_acting_jack_lmp/double_acting_jack_lmp.h"


/**************************** Variables *****************************/

CB_Index io_double_acting_jack_lmp__num = 0;
CB_Mem_Bool *io_double_acting_jack_lmp_acknowledgePB;
CB_Mem_Bool *io_double_acting_jack_lmp_autoMode;
CB_Mem_Bool *io_double_acting_jack_lmp_manualMode;
CB_Mem_Bool *io_double_acting_jack_lmp_autoWorkCmd;
CB_Mem_Bool *io_double_acting_jack_lmp_autoRestCmd;
CB_Mem_Bool *io_double_acting_jack_lmp_generalFault;
CB_Mem_Float *io_double_acting_jack_lmp_rodPosition;
CB_Mem_Float *io_double_acting_jack_lmp_rodPercent;
CB_Mem_Float *io_double_acting_jack_lmp_incrementValue;
CB_Mem_Bool *io_double_acting_jack_lmp_inletSensor;
CB_Mem_Bool *io_double_acting_jack_lmp_outletSensor;

/**************************** Variables *****************************/



/************************ Components offsets ************************/

static CB_Offset io_library__io_double_acting_jack_lmp_offset_panel1;
static CB_Offset io_library__io_double_acting_jack_lmp_offset_cmdOfJack;
static CB_Offset io_library__io_double_acting_jack_lmp_offset_jack;
static CB_Offset io_library__io_double_acting_jack_lmp_offset__end = {0, 0, 0, 0};


/********************* Initialization function **********************/

int _io_library__io_double_acting_jack_lmp_init(void)
{
	CB_Object __start = self;
	self.Bool+=7;

	/*initialize child panel1 (io_library.panel):*/
	self_num++;
	io_library__io_double_acting_jack_lmp_offset_panel1.Bool = self.Bool - __start.Bool;
	io_library__io_double_acting_jack_lmp_offset_panel1.Int = self.Int - __start.Int;
	io_library__io_double_acting_jack_lmp_offset_panel1.Float = self.Float - __start.Float;
	io_library__io_double_acting_jack_lmp_offset_panel1.Char = self.Char - __start.Char;
	_i_io_double_acting_jack_lmp__panel_valveWorkPB = __start.Bool+3; /*io_double_acting_jack_lmp__cn_4*/
	_i_io_double_acting_jack_lmp__panel_valveRestPB = __start.Bool+4; /*io_double_acting_jack_lmp__cn_3*/
	_io_library__panel_init();

	/*initialize child cmdOfJack (cmd_equipment_library.cmd_double_acting_jack_lmp):*/
	self_num++;
	io_library__io_double_acting_jack_lmp_offset_cmdOfJack.Bool = self.Bool - __start.Bool;
	io_library__io_double_acting_jack_lmp_offset_cmdOfJack.Int = self.Int - __start.Int;
	io_library__io_double_acting_jack_lmp_offset_cmdOfJack.Float = self.Float - __start.Float;
	io_library__io_double_acting_jack_lmp_offset_cmdOfJack.Char = self.Char - __start.Char;
	cmd_double_acting_jack_lmp_autoMode = io_double_acting_jack_lmp_autoMode;
	cmd_double_acting_jack_lmp_manualMode = io_double_acting_jack_lmp_manualMode;
	cmd_double_acting_jack_lmp_autoWorkCmd = io_double_acting_jack_lmp_autoWorkCmd;
	cmd_double_acting_jack_lmp_autoRestCmd = io_double_acting_jack_lmp_autoRestCmd;
	cmd_double_acting_jack_lmp_valveWorkPB = __start.Bool+3; /*io_double_acting_jack_lmp__cn_4*/
	cmd_double_acting_jack_lmp_valveRestPB = __start.Bool+4; /*io_double_acting_jack_lmp__cn_3*/
	cmd_double_acting_jack_lmp_outletSensor = io_double_acting_jack_lmp_outletSensor;
	cmd_double_acting_jack_lmp_inletSensor = io_double_acting_jack_lmp_inletSensor;
	cmd_double_acting_jack_lmp_acknowledgePB = io_double_acting_jack_lmp_acknowledgePB;
	cmd_double_acting_jack_lmp_workCmd = __start.Bool+5; /*io_double_acting_jack_lmp__cn_2*/
	cmd_double_acting_jack_lmp_restCmd = __start.Bool+6; /*io_double_acting_jack_lmp__cn_1*/
	cmd_double_acting_jack_lmp_generalFault = io_double_acting_jack_lmp_generalFault;
	_cmd_equipment_library__cmd_double_acting_jack_lmp_init();

	/*initialize child jack (equipment_library.double_acting_jack_lmp):*/
	self_num++;
	io_library__io_double_acting_jack_lmp_offset_jack.Bool = self.Bool - __start.Bool;
	io_library__io_double_acting_jack_lmp_offset_jack.Int = self.Int - __start.Int;
	io_library__io_double_acting_jack_lmp_offset_jack.Float = self.Float - __start.Float;
	io_library__io_double_acting_jack_lmp_offset_jack.Char = self.Char - __start.Char;
	double_acting_jack_lmp_energy = __start.Bool+2; /*io_double_acting_jack_lmp__cn_5*/
	double_acting_jack_lmp_cmdSupply = __start.Bool+1; /*io_double_acting_jack_lmp__cn_6*/
	double_acting_jack_lmp_sensorSupply = __start.Bool+0; /*io_double_acting_jack_lmp__cn_7*/
	double_acting_jack_lmp_valveWork = __start.Bool+5; /*io_double_acting_jack_lmp__cn_2*/
	double_acting_jack_lmp_valveRest = __start.Bool+6; /*io_double_acting_jack_lmp__cn_1*/
	double_acting_jack_lmp_outletSensor = io_double_acting_jack_lmp_outletSensor;
	double_acting_jack_lmp_inletSensor = io_double_acting_jack_lmp_inletSensor;
	double_acting_jack_lmp_rodPosition = io_double_acting_jack_lmp_rodPosition;
	double_acting_jack_lmp_rodPercent = io_double_acting_jack_lmp_rodPercent;
	double_acting_jack_lmp_incrementValue = io_double_acting_jack_lmp_incrementValue;
	_equipment_library__double_acting_jack_lmp_init();

	io_library__io_double_acting_jack_lmp_offset__end.Bool = self.Bool - __start.Bool;
	io_library__io_double_acting_jack_lmp_offset__end.Int = self.Int - __start.Int;
	io_library__io_double_acting_jack_lmp_offset__end.Float = self.Float - __start.Float;
	io_library__io_double_acting_jack_lmp_offset__end.Char = self.Char - __start.Char;

	return 0;
}


/************************ Behavior function *************************/

int io_library__io_double_acting_jack_lmp(void)
{
	CB_Object __start = self;
	int __ret;
	if (exec_mac_node(self_num)) {

		/*********************** Internals variables ************************/

														
		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			self.Bool = __start.Bool + io_library__io_double_acting_jack_lmp_offset_panel1.Bool;
			self.Int = __start.Int + io_library__io_double_acting_jack_lmp_offset_panel1.Int;
			self.Float = __start.Float + io_library__io_double_acting_jack_lmp_offset_panel1.Float;
			self.Char = __start.Char + io_library__io_double_acting_jack_lmp_offset_panel1.Char;

			/************************* panel1 execution *************************/

			self_num++;
			if (panel__num != self_num) {
				panel__num = self_num;
				_i_io_double_acting_jack_lmp__panel_valveWorkPB = __start.Bool+3; /*io_double_acting_jack_lmp__cn_4*/
				_i_io_double_acting_jack_lmp__panel_valveRestPB = __start.Bool+4; /*io_double_acting_jack_lmp__cn_3*/
			}
			__ret = io_library__panel();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/*********************** cmdOfJack execution ************************/

			self_num++;
			if (cmd_double_acting_jack_lmp__num != self_num) {
				cmd_double_acting_jack_lmp__num = self_num;
				cmd_double_acting_jack_lmp_autoMode = io_double_acting_jack_lmp_autoMode;
				cmd_double_acting_jack_lmp_manualMode = io_double_acting_jack_lmp_manualMode;
				cmd_double_acting_jack_lmp_autoWorkCmd = io_double_acting_jack_lmp_autoWorkCmd;
				cmd_double_acting_jack_lmp_autoRestCmd = io_double_acting_jack_lmp_autoRestCmd;
				cmd_double_acting_jack_lmp_valveWorkPB = __start.Bool+3; /*io_double_acting_jack_lmp__cn_4*/
				cmd_double_acting_jack_lmp_valveRestPB = __start.Bool+4; /*io_double_acting_jack_lmp__cn_3*/
				cmd_double_acting_jack_lmp_outletSensor = io_double_acting_jack_lmp_outletSensor;
				cmd_double_acting_jack_lmp_inletSensor = io_double_acting_jack_lmp_inletSensor;
				cmd_double_acting_jack_lmp_acknowledgePB = io_double_acting_jack_lmp_acknowledgePB;
				cmd_double_acting_jack_lmp_workCmd = __start.Bool+5; /*io_double_acting_jack_lmp__cn_2*/
				cmd_double_acting_jack_lmp_restCmd = __start.Bool+6; /*io_double_acting_jack_lmp__cn_1*/
				cmd_double_acting_jack_lmp_generalFault = io_double_acting_jack_lmp_generalFault;
			}
			__ret = cmd_equipment_library__cmd_double_acting_jack_lmp();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/************************** jack execution **************************/

			self_num++;
			if (double_acting_jack_lmp__num != self_num) {
				double_acting_jack_lmp__num = self_num;
				double_acting_jack_lmp_energy = __start.Bool+2; /*io_double_acting_jack_lmp__cn_5*/
				double_acting_jack_lmp_cmdSupply = __start.Bool+1; /*io_double_acting_jack_lmp__cn_6*/
				double_acting_jack_lmp_sensorSupply = __start.Bool+0; /*io_double_acting_jack_lmp__cn_7*/
				double_acting_jack_lmp_valveWork = __start.Bool+5; /*io_double_acting_jack_lmp__cn_2*/
				double_acting_jack_lmp_valveRest = __start.Bool+6; /*io_double_acting_jack_lmp__cn_1*/
				double_acting_jack_lmp_outletSensor = io_double_acting_jack_lmp_outletSensor;
				double_acting_jack_lmp_inletSensor = io_double_acting_jack_lmp_inletSensor;
				double_acting_jack_lmp_rodPosition = io_double_acting_jack_lmp_rodPosition;
				double_acting_jack_lmp_rodPercent = io_double_acting_jack_lmp_rodPercent;
				double_acting_jack_lmp_incrementValue = io_double_acting_jack_lmp_incrementValue;
			}
			__ret = equipment_library__double_acting_jack_lmp();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

		}


		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/

	self.Bool = __start.Bool + io_library__io_double_acting_jack_lmp_offset__end.Bool;
	self.Int = __start.Int + io_library__io_double_acting_jack_lmp_offset__end.Int;
	self.Float = __start.Float + io_library__io_double_acting_jack_lmp_offset__end.Float;
	self.Char = __start.Char + io_library__io_double_acting_jack_lmp_offset__end.Char;

	return 0;
}

