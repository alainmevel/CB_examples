<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Generator: ControlBuild -->

<project xmlns="http://www.plcopen.org/xml/tc6_0201.xsd" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.plcopen.org/xml/tc6_0201.xsd TC6_XML_V10.xsd">
	<fileHeader companyName="Dassault Syst&#232;mes" productName="ControlBuild" productVersion="2024x Refresh1" creationDateTime="2024-04-12T14:05:57-01:00" />
	<contentHeader name="flour_weighing">
		<coordinateInfo>
			<fbd>
				<scaling x="100" y="100" />
			</fbd>
			<ld>
				<scaling x="100" y="100" />
			</ld>
			<sfc>
				<scaling x="32" y="8" />
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes />
		<pous>
			<pou name="copie_batch.flour_weighing" pouType="functionBlock">
				<interface>
					<inputVars>
						<variable name="weighingRequest">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>15ea91d0-1604-43b6-8107-719c5c518b17</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="cycleInProgress">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>f6f70526-823d-4b76-8072-799f725cb61a</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="weighedWeight">
							<type>
								<DINT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>da330b7f-23ee-4130-a05b-bff89d4ee441</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inputVars</value>
							</data>
						</addData>
					</inputVars>
					<inputVars>
						<variable name="flourWeight">
							<type>
								<DINT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>8e74c4bb-5670-4b8c-aa22-373f671d3de5</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.group" handleUnknown="preserve">
								<value>FlourSetting</value>
							</data>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inputVars</value>
							</data>
						</addData>
					</inputVars>
					<outputVars>
						<variable name="weighingOk">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>59c8365e-7076-4d3f-8efc-6e9f499bbf98</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<outputVars>
						<variable name="introduceFlour">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>f597fbb7-35f3-4001-96ad-8dc2a50d5bd1</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="introFlourEnd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>ea6db7cf-895d-437e-b179-6dbac66e8019</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="exitFlour">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>f4140695-39c9-4318-9b41-2ec45f510205</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="exitFlourEnd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>e1c31a50-bc16-4d1d-a68e-40f8150fcdfa</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.group" handleUnknown="preserve">
								<value>Flour</value>
							</data>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<localVars>
						<variable name="totalWeight">
							<type>
								<DINT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>669a6a90-9631-49a7-8d91-1324e06f745d</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="endOfWeighing">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>d4e39e3d-b91e-42f3-a2be-0b11da032b3f</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>localVars</value>
							</data>
						</addData>
					</localVars>
					<localVars constant="true">
						<variable name="maxWeight">
							<type>
								<DINT />
							</type>
							<initialValue>
								<simpleValue value="100" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>4d94835a-32bd-4c2d-b1aa-b18ef8285954</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>parameterVars</value>
							</data>
						</addData>
					</localVars>
					<addData>
						<data name="Geensys.CB.groupIn" handleUnknown="preserve">
							<value>FlourSetting,</value>
						</data>
						<data name="Geensys.CB.groupOut" handleUnknown="preserve">
							<value>Flour,</value>
						</data>
					</addData>
				</interface>
				<actions>
					<action name="PreSFC">
						<body>
							<ST>endOfWeighing := ((totalWeight + weighedWeight) &gt;= flourWeight) 
OR (weighedWeight &gt;= maxWeight);
</ST>
						</body>
					</action>
					<action name="PostSFC">
						<body>
							<ST>IF NOT cycleInProgress THEN
&#9;introduceFlour := FALSE;
&#9;exitFlour := FALSE;
END_IF;

introFlourEnd := NOT introduceFlour OR NOT cycleInProgress;
exitFlourEnd := NOT exitFlour OR NOT cycleInProgress;</ST>
						</body>
					</action>
				</actions>
				<body>
					<SFC>
						<label localId="0" label="G1">
							<position x="0" y="0" />
						</label>
						<actionBlock localId="14" width="258" height="64">
							<position x="504" y="128" />
							<connectionPointIn>
								<connection refLocalId="1" />
							</connectionPointIn>
							<action localId="15">
								<relPosition x="0" y="0" />
								<inline>
									<ST>totalWeight := 0;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="10" localId="1" initialStep="true">
							<position x="424" y="128" />
							<connectionPointIn>
								<connection refLocalId="7">
									<position x="456" y="1028" />
									<position x="456" y="1051" />
									<position x="60" y="1051" />
									<position x="60" y="73" />
									<position x="456" y="73" />
									<position x="456" y="128" />
								</connection>
							</connectionPointIn>
							<addData>
							</addData>
						</step>
						<actionBlock localId="16" width="260" height="64">
							<position x="504" y="920" />
							<connectionPointIn>
								<connection refLocalId="2" />
							</connectionPointIn>
							<action localId="17">
								<relPosition x="0" y="0" />
								<inline>
									<ST>weighingOk;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="15" localId="2">
							<position x="424" y="920" />
							<connectionPointIn>
								<connection refLocalId="8">
									<position x="456" y="860" />
									<position x="456" y="904" />
									<position x="456" y="904" />
									<position x="456" y="920" />
								</connection>
							</connectionPointIn>
							<addData>
							</addData>
						</step>
						<step name="14" localId="3">
							<position x="424" y="752" />
							<connectionPointIn>
								<connection refLocalId="9">
									<position x="456" y="716" />
									<position x="456" y="740" />
									<position x="456" y="740" />
									<position x="456" y="752" />
								</connection>
							</connectionPointIn>
							<addData>
							</addData>
						</step>
						<actionBlock localId="18" width="258" height="64">
							<position x="504" y="608" />
							<connectionPointIn>
								<connection refLocalId="4" />
							</connectionPointIn>
							<action localId="19">
								<relPosition x="0" y="0" />
								<inline>
									<ST>exitFlour;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="13" localId="4">
							<position x="424" y="608" />
							<connectionPointIn>
								<connection refLocalId="10">
									<position x="456" y="556" />
									<position x="456" y="594" />
									<position x="456" y="594" />
									<position x="456" y="608" />
								</connection>
							</connectionPointIn>
							<addData>
							</addData>
						</step>
						<actionBlock localId="20" width="392" height="64">
							<position x="504" y="448" />
							<connectionPointIn>
								<connection refLocalId="5" />
							</connectionPointIn>
							<action localId="21">
								<relPosition x="0" y="0" />
								<inline>
									<ST>IF(RE X12) THEN
&#9;totalWeight := totalWeight + weighedWeight;
END_IF;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="12" localId="5">
							<position x="424" y="448" />
							<connectionPointIn>
								<connection refLocalId="11">
									<position x="456" y="388" />
									<position x="456" y="434" />
									<position x="456" y="434" />
									<position x="456" y="448" />
								</connection>
							</connectionPointIn>
							<addData>
							</addData>
						</step>
						<selectionConvergence localId="22" width="320">
							<position x="152" y="272" />
							<connectionPointIn>
								<connection refLocalId="12">
									<position x="456" y="236" />
									<position x="456" y="260" />
									<position x="456" y="260" />
									<position x="456" y="272" />
								</connection>
								<connection refLocalId="13">
									<position x="168" y="864" />
									<position x="168" y="907" />
									<position x="83" y="907" />
									<position x="83" y="251" />
									<position x="456" y="251" />
									<position x="456" y="272" />
								</connection>
							</connectionPointIn>
						</selectionConvergence>
						<actionBlock localId="23" width="255" height="68">
							<position x="504" y="272" />
							<connectionPointIn>
								<connection refLocalId="6" />
							</connectionPointIn>
							<action localId="24">
								<relPosition x="0" y="0" />
								<inline>
									<ST>introduceFlour;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="11" localId="6">
							<position x="424" y="272" />
							<connectionPointIn>
								<connection refLocalId="22" />
							</connectionPointIn>
							<addData>
							</addData>
						</step>
						<transition localId="7">
							<position x="440" y="1020" />
							<connectionPointIn>
								<connection refLocalId="2">
									<position x="456" y="984" />
									<position x="456" y="996" />
									<position x="456" y="996" />
									<position x="456" y="1020" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="7">
									<ST>NOT weighingRequest</ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>16</value>
								</data>
							</addData>
						</transition>
						<selectionDivergence localId="25" width="320">
							<position x="152" y="816" />
							<connectionPointIn>
								<connection refLocalId="3" />
							</connectionPointIn>
						</selectionDivergence>
						<transition localId="8">
							<position x="440" y="852" />
							<connectionPointIn>
								<connection refLocalId="3">
									<position x="456" y="816" />
									<position x="456" y="828" />
									<position x="456" y="828" />
									<position x="456" y="852" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="8">
									<ST>cycleInProgress AND (totalWeight &gt;= flourWeight) </ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>15</value>
								</data>
							</addData>
						</transition>
						<transition localId="9">
							<position x="440" y="708" />
							<connectionPointIn>
								<connection refLocalId="4">
									<position x="456" y="672" />
									<position x="456" y="684" />
									<position x="456" y="684" />
									<position x="456" y="708" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="9">
									<ST>cycleInProgress AND (weighedWeight &lt;= 1) </ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>13</value>
								</data>
							</addData>
						</transition>
						<transition localId="10">
							<position x="440" y="548" />
							<connectionPointIn>
								<connection refLocalId="5">
									<position x="456" y="512" />
									<position x="456" y="524" />
									<position x="456" y="524" />
									<position x="456" y="548" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="10">
									<ST>cycleInProgress AND T/X12/250ms </ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>12</value>
								</data>
							</addData>
						</transition>
						<transition localId="11">
							<position x="440" y="380" />
							<connectionPointIn>
								<connection refLocalId="6">
									<position x="456" y="336" />
									<position x="456" y="354" />
									<position x="456" y="354" />
									<position x="456" y="380" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="11">
									<ST>endOfWeighing</ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>11</value>
								</data>
							</addData>
						</transition>
						<transition localId="12">
							<position x="440" y="228" />
							<connectionPointIn>
								<connection refLocalId="1">
									<position x="456" y="192" />
									<position x="456" y="204" />
									<position x="456" y="204" />
									<position x="456" y="228" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="12">
									<ST>cycleInProgress AND weighingRequest </ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>10</value>
								</data>
							</addData>
						</transition>
						<transition localId="13">
							<position x="152" y="856" />
							<connectionPointIn>
								<connection refLocalId="3">
									<position x="456" y="816" />
									<position x="456" y="832" />
									<position x="168" y="832" />
									<position x="168" y="856" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="13">
									<ST>cycleInProgress AND 
(totalWeight &lt; flourWeight) 
</ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>14</value>
								</data>
							</addData>
						</transition>
					</SFC>
				</body>
				<addData>
					<data name="Geensys.CB.Or_Divergences_Exclusivity" handleUnknown="preserve">
						<value>true</value>
					</data>
					<data name="Geensys.CB.COMPONENT_CLASS" handleUnknown="preserve">
						<value>PROCESS</value>
					</data>
					<data name="Geensys.CB.COMPONENT_CLASS_UUID" handleUnknown="preserve">
						<value>efe67f35-7746-4c41-87ee-86d6ccbf6b60</value>
					</data>
					<data name="Geensys.CB.INSTANCE_NAMIMG_PATTERN" handleUnknown="preserve">
						<value>&lt;CLASS_PATTERN&gt;</value>
					</data>
					<data name="Geensys.CB.COMMENTS_PATTERN" handleUnknown="preserve">
						<value>&lt;CLASS_PATTERN&gt;</value>
					</data>
				</addData>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations />
	</instances>
</project>