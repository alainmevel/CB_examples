/*2023-10-03T11:13:39-01:00*/

/********************************************************************
 * syrup.c
 * 
 * generated by: plcgen 3.1.391
 ********************************************************************/

#include "cb_comp.h"
#include "iec_1131.h"


/********************************************************************
 *                   Inner 'faults' declarations                    *
 ********************************************************************/


/********************** Variable declarations ***********************/

static CB_Index faults__num;
extern CB_Mem_Bool *_i_syrup__faults_generalFault1;
extern CB_Mem_Bool *_i_syrup__faults_generalFault2;
extern CB_Mem_Bool *_i_syrup__faults_generalFault3;
extern CB_Mem_Bool *_i_syrup__faults_generalFault4;
extern CB_Mem_Bool *_i_syrup__faults_fault;

/********************** Function declarations ***********************/

static int _batch__faults_init(void);
static int batch__faults(void);

/********************************************************************
 *                  Inner 'faults' implementation                   *
 ********************************************************************/



/**************************** Variables *****************************/

static CB_Index faults__num = 0;
CB_Mem_Bool *_i_syrup__faults_generalFault1;
CB_Mem_Bool *_i_syrup__faults_generalFault2;
CB_Mem_Bool *_i_syrup__faults_generalFault3;
CB_Mem_Bool *_i_syrup__faults_generalFault4;
CB_Mem_Bool *_i_syrup__faults_fault;

/**************************** Variables *****************************/

#define generalFault1 (_i_syrup__faults_generalFault1->CB_current_value)
#define generalFault2 (_i_syrup__faults_generalFault2->CB_current_value)
#define generalFault3 (_i_syrup__faults_generalFault3->CB_current_value)
#define generalFault4 (_i_syrup__faults_generalFault4->CB_current_value)
#define fault (_i_syrup__faults_fault->CB_current_value)


/************************ Components offsets ************************/


/********************* Initialization function **********************/

static int _batch__faults_init(void)
{


	return 0;
}


/************************ Behavior function *************************/

static int batch__faults(void)
{
	if (exec_term_node(self_num)) {

		/*********************** Internals variables ************************/


		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			fault = ((generalFault4 || generalFault1) || generalFault2) || generalFault3;
		}

		CB_post_bool(_i_syrup__faults_fault);

		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/


	return 0;
}

#undef generalFault1
#undef generalFault2
#undef generalFault3
#undef generalFault4
#undef fault

/********************************************************************
 *               Public 'batch.syrup' implementation                *
 ********************************************************************/

#include "syrup.h"
#include "equipment_library/functional/flow_compute/flow_compute.h"
#include "batch/functional/syrup_weighing/syrup_weighing.h"
#include "io_library/functional/io_on_off_valve/io_on_off_valve.h"
#include "batch/functional/add_syrup/add_syrup.h"
#include "equipment_library/functional/tank/tank.h"
#include "equipment_library/functional/analog_sensor/analog_sensor.h"
#include "equipment_library/functional/bounded_scale/bounded_scale.h"


/**************************** Variables *****************************/

CB_Index syrup__num = 0;
CB_Mem_Int *syrup_syrup1Weight;
CB_Mem_Int *syrup_syrup2Weight;
CB_Mem_Int *syrup_syrup3Weight;
CB_Mem_Bool *syrup_cycleInProgress;
CB_Mem_Bool *syrup_weighingRequest;
CB_Mem_Bool *syrup_acknowledgePB;
CB_Mem_Bool *syrup_autoMode;
CB_Mem_Bool *syrup_manualMode;
CB_Mem_Bool *syrup_weighingOk;
CB_Mem_Bool *syrup_fault;
CB_Mem_Float *syrup_syrupExtraction;

/**************************** Variables *****************************/



/************************ Components offsets ************************/

static CB_Offset batch__syrup_offset_flow;
static CB_Offset batch__syrup_offset_syrupManagement;
static CB_Offset batch__syrup_offset_arrivalValveSyrup1;
static CB_Offset batch__syrup_offset_arrivalValveSyrup2;
static CB_Offset batch__syrup_offset_arrivalValveSyrup3;
static CB_Offset batch__syrup_offset_syrupExtractionValve;
static CB_Offset batch__syrup_offset_faults1;
static CB_Offset batch__syrup_offset_syrupQuantity;
static CB_Offset batch__syrup_offset_syrupsTank;
static CB_Offset batch__syrup_offset_level;
static CB_Offset batch__syrup_offset_scale;
static CB_Offset batch__syrup_offset__end = {0, 0, 0, 0};


/********************* Initialization function **********************/

int _batch__syrup_init(void)
{
	CB_Object __start = self;
	self.Bool+=21;
	self.Int+=2;
	self.Float+=17;

	/*initialize child flow (equipment_library.flow_compute):*/
	self_num++;
	batch__syrup_offset_flow.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_flow.Int = self.Int - __start.Int;
	batch__syrup_offset_flow.Float = self.Float - __start.Float;
	batch__syrup_offset_flow.Char = self.Char - __start.Char;
	flow_compute_inputFlow = __start.Float+10; /*syrup__cn_20*/
	flow_compute_outputFlow = __start.Float+11; /*syrup__cn_10*/
	_equipment_library__flow_compute_init();

	/*initialize child syrupManagement (batch.syrup_weighing):*/
	self_num++;
	batch__syrup_offset_syrupManagement.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_syrupManagement.Int = self.Int - __start.Int;
	batch__syrup_offset_syrupManagement.Float = self.Float - __start.Float;
	batch__syrup_offset_syrupManagement.Char = self.Char - __start.Char;
	syrup_weighing_weighingRequest = syrup_weighingRequest;
	syrup_weighing_cycleInProgress = syrup_cycleInProgress;
	syrup_weighing_weighingWeight = __start.Int+1; /*syrup__cn_19*/
	syrup_weighing_syrup1Weight = syrup_syrup1Weight;
	syrup_weighing_syrup2Weight = syrup_syrup2Weight;
	syrup_weighing_syrup3Weight = syrup_syrup3Weight;
	syrup_weighing_weighingOk = syrup_weighingOk;
	syrup_weighing_introduceS1 = __start.Bool+10; /*syrup__cn_17*/
	syrup_weighing_introS1End = __start.Bool+9; /*syrup__cn_18*/
	syrup_weighing_introduceS2 = __start.Bool+12; /*syrup__cn_15*/
	syrup_weighing_introS2End = __start.Bool+11; /*syrup__cn_16*/
	syrup_weighing_introduceS3 = __start.Bool+14; /*syrup__cn_13*/
	syrup_weighing_introS3End = __start.Bool+13; /*syrup__cn_14*/
	syrup_weighing_exitSyrup = __start.Bool+16; /*syrup__cn_11*/
	syrup_weighing_exitSyrupEnd = __start.Bool+15; /*syrup__cn_12*/
	_batch__syrup_weighing_init();

	/*initialize child arrivalValveSyrup1 (io_library.io_on_off_valve):*/
	self_num++;
	batch__syrup_offset_arrivalValveSyrup1.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_arrivalValveSyrup1.Int = self.Int - __start.Int;
	batch__syrup_offset_arrivalValveSyrup1.Float = self.Float - __start.Float;
	batch__syrup_offset_arrivalValveSyrup1.Char = self.Char - __start.Char;
	io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
	io_on_off_valve_autoMode = syrup_autoMode;
	io_on_off_valve_manualMode = syrup_manualMode;
	io_on_off_valve_autoCloseCmd = __start.Bool+9; /*syrup__cn_18*/
	io_on_off_valve_autoOpenCmd = __start.Bool+10; /*syrup__cn_17*/
	io_on_off_valve_inputFlow = __start.Float+9; /*syrup__cn_21*/
	io_on_off_valve_openedSensor = __start.Bool+8; /*syrup__cn_22*/
	io_on_off_valve_closedSensor = __start.Bool+7; /*syrup__cn_23*/
	io_on_off_valve_generalFault = __start.Bool+17; /*syrup__cn_9*/
	io_on_off_valve_outputFlow = __start.Float+12; /*syrup__cn_5*/
	io_on_off_valve_percentOpening = __start.Float+8; /*syrup__cn_24*/
	_io_library__io_on_off_valve_init();

	/*initialize child arrivalValveSyrup2 (io_library.io_on_off_valve):*/
	self_num++;
	batch__syrup_offset_arrivalValveSyrup2.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_arrivalValveSyrup2.Int = self.Int - __start.Int;
	batch__syrup_offset_arrivalValveSyrup2.Float = self.Float - __start.Float;
	batch__syrup_offset_arrivalValveSyrup2.Char = self.Char - __start.Char;
	io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
	io_on_off_valve_autoMode = syrup_autoMode;
	io_on_off_valve_manualMode = syrup_manualMode;
	io_on_off_valve_autoCloseCmd = __start.Bool+11; /*syrup__cn_16*/
	io_on_off_valve_autoOpenCmd = __start.Bool+12; /*syrup__cn_15*/
	io_on_off_valve_inputFlow = __start.Float+7; /*syrup__cn_25*/
	io_on_off_valve_openedSensor = __start.Bool+6; /*syrup__cn_26*/
	io_on_off_valve_closedSensor = __start.Bool+5; /*syrup__cn_27*/
	io_on_off_valve_generalFault = __start.Bool+18; /*syrup__cn_8*/
	io_on_off_valve_outputFlow = __start.Float+13; /*syrup__cn_4*/
	io_on_off_valve_percentOpening = __start.Float+6; /*syrup__cn_28*/
	_io_library__io_on_off_valve_init();

	/*initialize child arrivalValveSyrup3 (io_library.io_on_off_valve):*/
	self_num++;
	batch__syrup_offset_arrivalValveSyrup3.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_arrivalValveSyrup3.Int = self.Int - __start.Int;
	batch__syrup_offset_arrivalValveSyrup3.Float = self.Float - __start.Float;
	batch__syrup_offset_arrivalValveSyrup3.Char = self.Char - __start.Char;
	io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
	io_on_off_valve_autoMode = syrup_autoMode;
	io_on_off_valve_manualMode = syrup_manualMode;
	io_on_off_valve_autoCloseCmd = __start.Bool+13; /*syrup__cn_14*/
	io_on_off_valve_autoOpenCmd = __start.Bool+14; /*syrup__cn_13*/
	io_on_off_valve_inputFlow = __start.Float+5; /*syrup__cn_29*/
	io_on_off_valve_openedSensor = __start.Bool+4; /*syrup__cn_30*/
	io_on_off_valve_closedSensor = __start.Bool+3; /*syrup__cn_31*/
	io_on_off_valve_generalFault = __start.Bool+19; /*syrup__cn_7*/
	io_on_off_valve_outputFlow = __start.Float+14; /*syrup__cn_3*/
	io_on_off_valve_percentOpening = __start.Float+4; /*syrup__cn_32*/
	_io_library__io_on_off_valve_init();

	/*initialize child syrupExtractionValve (io_library.io_on_off_valve):*/
	self_num++;
	batch__syrup_offset_syrupExtractionValve.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_syrupExtractionValve.Int = self.Int - __start.Int;
	batch__syrup_offset_syrupExtractionValve.Float = self.Float - __start.Float;
	batch__syrup_offset_syrupExtractionValve.Char = self.Char - __start.Char;
	io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
	io_on_off_valve_autoMode = syrup_autoMode;
	io_on_off_valve_manualMode = syrup_manualMode;
	io_on_off_valve_autoCloseCmd = __start.Bool+15; /*syrup__cn_12*/
	io_on_off_valve_autoOpenCmd = __start.Bool+16; /*syrup__cn_11*/
	io_on_off_valve_inputFlow = __start.Float+11; /*syrup__cn_10*/
	io_on_off_valve_openedSensor = __start.Bool+2; /*syrup__cn_33*/
	io_on_off_valve_closedSensor = __start.Bool+1; /*syrup__cn_34*/
	io_on_off_valve_generalFault = __start.Bool+20; /*syrup__cn_6*/
	io_on_off_valve_outputFlow = syrup_syrupExtraction;
	io_on_off_valve_percentOpening = __start.Float+3; /*syrup__cn_35*/
	_io_library__io_on_off_valve_init();

	/*initialize child faults1 (batch.faults):*/
	self_num++;
	batch__syrup_offset_faults1.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_faults1.Int = self.Int - __start.Int;
	batch__syrup_offset_faults1.Float = self.Float - __start.Float;
	batch__syrup_offset_faults1.Char = self.Char - __start.Char;
	_i_syrup__faults_generalFault1 = __start.Bool+17; /*syrup__cn_9*/
	_i_syrup__faults_generalFault2 = __start.Bool+18; /*syrup__cn_8*/
	_i_syrup__faults_generalFault3 = __start.Bool+19; /*syrup__cn_7*/
	_i_syrup__faults_generalFault4 = __start.Bool+20; /*syrup__cn_6*/
	_i_syrup__faults_fault = syrup_fault;
	_batch__faults_init();

	/*initialize child syrupQuantity (batch.add_syrup):*/
	self_num++;
	batch__syrup_offset_syrupQuantity.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_syrupQuantity.Int = self.Int - __start.Int;
	batch__syrup_offset_syrupQuantity.Float = self.Float - __start.Float;
	batch__syrup_offset_syrupQuantity.Char = self.Char - __start.Char;
	add_syrup_flowSyrup1 = __start.Float+12; /*syrup__cn_5*/
	add_syrup_flowSyrup2 = __start.Float+13; /*syrup__cn_4*/
	add_syrup_flowSyrup3 = __start.Float+14; /*syrup__cn_3*/
	add_syrup_flow = __start.Float+15; /*syrup__cn_2*/
	_batch__add_syrup_init();

	/*initialize child syrupsTank (equipment_library.tank):*/
	self_num++;
	batch__syrup_offset_syrupsTank.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_syrupsTank.Int = self.Int - __start.Int;
	batch__syrup_offset_syrupsTank.Float = self.Float - __start.Float;
	batch__syrup_offset_syrupsTank.Char = self.Char - __start.Char;
	tank_inletFlow = __start.Float+15; /*syrup__cn_2*/
	tank_outletFlow = syrup_syrupExtraction;
	tank_tankLevel = __start.Float+10; /*syrup__cn_20*/
	_equipment_library__tank_init();

	/*initialize child level (equipment_library.analog_sensor):*/
	self_num++;
	batch__syrup_offset_level.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_level.Int = self.Int - __start.Int;
	batch__syrup_offset_level.Float = self.Float - __start.Float;
	batch__syrup_offset_level.Char = self.Char - __start.Char;
	analog_sensor_measure = __start.Float+10; /*syrup__cn_20*/
	analog_sensor_sensorSupply = __start.Bool+0; /*syrup__cn_36*/
	analog_sensor_realValue = __start.Float+16; /*syrup__cn_1*/
	analog_sensor_intValue = __start.Float+2; /*syrup__cn_37*/
	analog_sensor_dintValue = __start.Float+1; /*syrup__cn_38*/
	_equipment_library__analog_sensor_init();

	/*initialize child scale (equipment_library.bounded_scale):*/
	self_num++;
	batch__syrup_offset_scale.Bool = self.Bool - __start.Bool;
	batch__syrup_offset_scale.Int = self.Int - __start.Int;
	batch__syrup_offset_scale.Float = self.Float - __start.Float;
	batch__syrup_offset_scale.Char = self.Char - __start.Char;
	bounded_scale_inputValue = __start.Float+16; /*syrup__cn_1*/
	bounded_scale_realValue = __start.Float+0; /*syrup__cn_39*/
	bounded_scale_dintValue = __start.Int+1; /*syrup__cn_19*/
	bounded_scale_intValue = __start.Int+0; /*syrup__cn_40*/
	_equipment_library__bounded_scale_init();

	batch__syrup_offset__end.Bool = self.Bool - __start.Bool;
	batch__syrup_offset__end.Int = self.Int - __start.Int;
	batch__syrup_offset__end.Float = self.Float - __start.Float;
	batch__syrup_offset__end.Char = self.Char - __start.Char;

	return 0;
}


/************************ Behavior function *************************/

int batch__syrup(void)
{
	CB_Object __start = self;
	int __ret;
	if (exec_mac_node(self_num)) {

		/*********************** Internals variables ************************/

																																																																																
		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			self.Bool = __start.Bool + batch__syrup_offset_flow.Bool;
			self.Int = __start.Int + batch__syrup_offset_flow.Int;
			self.Float = __start.Float + batch__syrup_offset_flow.Float;
			self.Char = __start.Char + batch__syrup_offset_flow.Char;

			/************************** flow execution **************************/

			self_num++;
			if (flow_compute__num != self_num) {
				flow_compute__num = self_num;
				flow_compute_inputFlow = __start.Float+10; /*syrup__cn_20*/
				flow_compute_outputFlow = __start.Float+11; /*syrup__cn_10*/
			}
			__ret = equipment_library__flow_compute();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/******************** syrupManagement execution *********************/

			self_num++;
			if (syrup_weighing__num != self_num) {
				syrup_weighing__num = self_num;
				syrup_weighing_weighingRequest = syrup_weighingRequest;
				syrup_weighing_cycleInProgress = syrup_cycleInProgress;
				syrup_weighing_weighingWeight = __start.Int+1; /*syrup__cn_19*/
				syrup_weighing_syrup1Weight = syrup_syrup1Weight;
				syrup_weighing_syrup2Weight = syrup_syrup2Weight;
				syrup_weighing_syrup3Weight = syrup_syrup3Weight;
				syrup_weighing_weighingOk = syrup_weighingOk;
				syrup_weighing_introduceS1 = __start.Bool+10; /*syrup__cn_17*/
				syrup_weighing_introS1End = __start.Bool+9; /*syrup__cn_18*/
				syrup_weighing_introduceS2 = __start.Bool+12; /*syrup__cn_15*/
				syrup_weighing_introS2End = __start.Bool+11; /*syrup__cn_16*/
				syrup_weighing_introduceS3 = __start.Bool+14; /*syrup__cn_13*/
				syrup_weighing_introS3End = __start.Bool+13; /*syrup__cn_14*/
				syrup_weighing_exitSyrup = __start.Bool+16; /*syrup__cn_11*/
				syrup_weighing_exitSyrupEnd = __start.Bool+15; /*syrup__cn_12*/
			}
			__ret = batch__syrup_weighing();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/******************* arrivalValveSyrup1 execution *******************/

			self_num++;
			if (io_on_off_valve__num != self_num) {
				io_on_off_valve__num = self_num;
				io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
				io_on_off_valve_autoMode = syrup_autoMode;
				io_on_off_valve_manualMode = syrup_manualMode;
				io_on_off_valve_autoCloseCmd = __start.Bool+9; /*syrup__cn_18*/
				io_on_off_valve_autoOpenCmd = __start.Bool+10; /*syrup__cn_17*/
				io_on_off_valve_inputFlow = __start.Float+9; /*syrup__cn_21*/
				io_on_off_valve_openedSensor = __start.Bool+8; /*syrup__cn_22*/
				io_on_off_valve_closedSensor = __start.Bool+7; /*syrup__cn_23*/
				io_on_off_valve_generalFault = __start.Bool+17; /*syrup__cn_9*/
				io_on_off_valve_outputFlow = __start.Float+12; /*syrup__cn_5*/
				io_on_off_valve_percentOpening = __start.Float+8; /*syrup__cn_24*/
			}
			__ret = io_library__io_on_off_valve();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/******************* arrivalValveSyrup2 execution *******************/

			self_num++;
			if (io_on_off_valve__num != self_num) {
				io_on_off_valve__num = self_num;
				io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
				io_on_off_valve_autoMode = syrup_autoMode;
				io_on_off_valve_manualMode = syrup_manualMode;
				io_on_off_valve_autoCloseCmd = __start.Bool+11; /*syrup__cn_16*/
				io_on_off_valve_autoOpenCmd = __start.Bool+12; /*syrup__cn_15*/
				io_on_off_valve_inputFlow = __start.Float+7; /*syrup__cn_25*/
				io_on_off_valve_openedSensor = __start.Bool+6; /*syrup__cn_26*/
				io_on_off_valve_closedSensor = __start.Bool+5; /*syrup__cn_27*/
				io_on_off_valve_generalFault = __start.Bool+18; /*syrup__cn_8*/
				io_on_off_valve_outputFlow = __start.Float+13; /*syrup__cn_4*/
				io_on_off_valve_percentOpening = __start.Float+6; /*syrup__cn_28*/
			}
			__ret = io_library__io_on_off_valve();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/******************* arrivalValveSyrup3 execution *******************/

			self_num++;
			if (io_on_off_valve__num != self_num) {
				io_on_off_valve__num = self_num;
				io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
				io_on_off_valve_autoMode = syrup_autoMode;
				io_on_off_valve_manualMode = syrup_manualMode;
				io_on_off_valve_autoCloseCmd = __start.Bool+13; /*syrup__cn_14*/
				io_on_off_valve_autoOpenCmd = __start.Bool+14; /*syrup__cn_13*/
				io_on_off_valve_inputFlow = __start.Float+5; /*syrup__cn_29*/
				io_on_off_valve_openedSensor = __start.Bool+4; /*syrup__cn_30*/
				io_on_off_valve_closedSensor = __start.Bool+3; /*syrup__cn_31*/
				io_on_off_valve_generalFault = __start.Bool+19; /*syrup__cn_7*/
				io_on_off_valve_outputFlow = __start.Float+14; /*syrup__cn_3*/
				io_on_off_valve_percentOpening = __start.Float+4; /*syrup__cn_32*/
			}
			__ret = io_library__io_on_off_valve();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/****************** syrupExtractionValve execution ******************/

			self_num++;
			if (io_on_off_valve__num != self_num) {
				io_on_off_valve__num = self_num;
				io_on_off_valve_acknowledgePB = syrup_acknowledgePB;
				io_on_off_valve_autoMode = syrup_autoMode;
				io_on_off_valve_manualMode = syrup_manualMode;
				io_on_off_valve_autoCloseCmd = __start.Bool+15; /*syrup__cn_12*/
				io_on_off_valve_autoOpenCmd = __start.Bool+16; /*syrup__cn_11*/
				io_on_off_valve_inputFlow = __start.Float+11; /*syrup__cn_10*/
				io_on_off_valve_openedSensor = __start.Bool+2; /*syrup__cn_33*/
				io_on_off_valve_closedSensor = __start.Bool+1; /*syrup__cn_34*/
				io_on_off_valve_generalFault = __start.Bool+20; /*syrup__cn_6*/
				io_on_off_valve_outputFlow = syrup_syrupExtraction;
				io_on_off_valve_percentOpening = __start.Float+3; /*syrup__cn_35*/
			}
			__ret = io_library__io_on_off_valve();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/************************ faults1 execution *************************/

			self_num++;
			if (faults__num != self_num) {
				faults__num = self_num;
				_i_syrup__faults_generalFault1 = __start.Bool+17; /*syrup__cn_9*/
				_i_syrup__faults_generalFault2 = __start.Bool+18; /*syrup__cn_8*/
				_i_syrup__faults_generalFault3 = __start.Bool+19; /*syrup__cn_7*/
				_i_syrup__faults_generalFault4 = __start.Bool+20; /*syrup__cn_6*/
				_i_syrup__faults_fault = syrup_fault;
			}
			__ret = batch__faults();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/********************* syrupQuantity execution **********************/

			self_num++;
			if (add_syrup__num != self_num) {
				add_syrup__num = self_num;
				add_syrup_flowSyrup1 = __start.Float+12; /*syrup__cn_5*/
				add_syrup_flowSyrup2 = __start.Float+13; /*syrup__cn_4*/
				add_syrup_flowSyrup3 = __start.Float+14; /*syrup__cn_3*/
				add_syrup_flow = __start.Float+15; /*syrup__cn_2*/
			}
			__ret = batch__add_syrup();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/*********************** syrupsTank execution ***********************/

			self_num++;
			if (tank__num != self_num) {
				tank__num = self_num;
				tank_inletFlow = __start.Float+15; /*syrup__cn_2*/
				tank_outletFlow = syrup_syrupExtraction;
				tank_tankLevel = __start.Float+10; /*syrup__cn_20*/
			}
			__ret = equipment_library__tank();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/************************* level execution **************************/

			self_num++;
			if (analog_sensor__num != self_num) {
				analog_sensor__num = self_num;
				analog_sensor_measure = __start.Float+10; /*syrup__cn_20*/
				analog_sensor_sensorSupply = __start.Bool+0; /*syrup__cn_36*/
				analog_sensor_realValue = __start.Float+16; /*syrup__cn_1*/
				analog_sensor_intValue = __start.Float+2; /*syrup__cn_37*/
				analog_sensor_dintValue = __start.Float+1; /*syrup__cn_38*/
			}
			__ret = equipment_library__analog_sensor();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

			/************************* scale execution **************************/

			self_num++;
			if (bounded_scale__num != self_num) {
				bounded_scale__num = self_num;
				bounded_scale_inputValue = __start.Float+16; /*syrup__cn_1*/
				bounded_scale_realValue = __start.Float+0; /*syrup__cn_39*/
				bounded_scale_dintValue = __start.Int+1; /*syrup__cn_19*/
				bounded_scale_intValue = __start.Int+0; /*syrup__cn_40*/
			}
			__ret = equipment_library__bounded_scale();
			if (__ret != 0) {
				return __ret; /*child execution failure*/
			}

		}


		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/

	self.Bool = __start.Bool + batch__syrup_offset__end.Bool;
	self.Int = __start.Int + batch__syrup_offset__end.Int;
	self.Float = __start.Float + batch__syrup_offset__end.Float;
	self.Char = __start.Char + batch__syrup_offset__end.Char;

	return 0;
}

