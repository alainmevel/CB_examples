
### User options :
# $Id: options.mk 513 2023-01-05 14:13:40Z EM7 $
#options de compilation et d'edition de lien :
_CC_OPTS=-DSY_MSW -DWIN32 -DGCC -m32
_CPP_OPTS=$(_CINCL)

_LD_LIBS=-Xlinker -no-whole-archive -lkernel32
_LD_OPTS=-Xlinker -whole-archive -m32

#edition de liens :
_LD1=gcc -o $@ $(_LD_OPTS)
_LD2=$(_LD_LIBS)
#edition de liens intermediaire :
_LDI1=ar -ruv $@
_LDI2=
_AR=ar
#compilation :
_CC1=gcc -c -o $@ -I.. $(_CPP_OPTS) $(_CC_OPTS)
_CC2=



### Categories definition :
TOOL_MACH=MinGW
batch_o=$(TOOL_MACH)
batch_obj=obj
momentary_button_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/momentary_button
momentary_button_o=$(momentary_button_c)/$(TOOL_MACH)
momentary_button_obj=$(momentary_button_c)/obj
switch_2pos_2outputs_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/switch_2pos_2outputs
switch_2pos_2outputs_o=$(switch_2pos_2outputs_c)/$(TOOL_MACH)
switch_2pos_2outputs_obj=$(switch_2pos_2outputs_c)/obj
maintained_button_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/maintained_button
maintained_button_o=$(maintained_button_c)/$(TOOL_MACH)
maintained_button_obj=$(maintained_button_c)/obj
recipe_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/recipe
recipe_o=$(recipe_c)/$(TOOL_MACH)
recipe_obj=$(recipe_c)/obj
mode_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/mode
mode_o=$(mode_c)/$(TOOL_MACH)
mode_obj=$(mode_c)/obj
management_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/management
management_o=$(management_c)/$(TOOL_MACH)
management_obj=$(management_c)/obj
manufacturing_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/manufacturing
manufacturing_o=$(manufacturing_c)/$(TOOL_MACH)
manufacturing_obj=$(manufacturing_c)/obj
flour_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/flour
flour_o=$(flour_c)/$(TOOL_MACH)
flour_obj=$(flour_c)/obj
io_on_off_valve_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/io_library/functional/io_on_off_valve
io_on_off_valve_o=$(io_on_off_valve_c)/$(TOOL_MACH)
io_on_off_valve_obj=$(io_on_off_valve_c)/obj
switch_3pos_2outputs_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/switch_3pos_2outputs
switch_3pos_2outputs_o=$(switch_3pos_2outputs_c)/$(TOOL_MACH)
switch_3pos_2outputs_obj=$(switch_3pos_2outputs_c)/obj
cmd_on_off_valve_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/cmd_equipment_library/functional/cmd_on_off_valve
cmd_on_off_valve_o=$(cmd_on_off_valve_c)/$(TOOL_MACH)
cmd_on_off_valve_obj=$(cmd_on_off_valve_c)/obj
cb_ton_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/timers_counters/functional/cb_ton
cb_ton_o=$(cb_ton_c)/$(TOOL_MACH)
cb_ton_obj=$(cb_ton_c)/obj
on_off_valve_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/on_off_valve
on_off_valve_o=$(on_off_valve_c)/$(TOOL_MACH)
on_off_valve_obj=$(on_off_valve_c)/obj
tank_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/tank
tank_o=$(tank_c)/$(TOOL_MACH)
tank_obj=$(tank_c)/obj
flow_compute_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/flow_compute
flow_compute_o=$(flow_compute_c)/$(TOOL_MACH)
flow_compute_obj=$(flow_compute_c)/obj
analog_sensor_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/analog_sensor
analog_sensor_o=$(analog_sensor_c)/$(TOOL_MACH)
analog_sensor_obj=$(analog_sensor_c)/obj
flour_weighing_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/flour_weighing
flour_weighing_o=$(flour_weighing_c)/$(TOOL_MACH)
flour_weighing_obj=$(flour_weighing_c)/obj
bounded_scale_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/bounded_scale
bounded_scale_o=$(bounded_scale_c)/$(TOOL_MACH)
bounded_scale_obj=$(bounded_scale_c)/obj
syrup_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/syrup
syrup_o=$(syrup_c)/$(TOOL_MACH)
syrup_obj=$(syrup_c)/obj
syrup_weighing_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/syrup_weighing
syrup_weighing_o=$(syrup_weighing_c)/$(TOOL_MACH)
syrup_weighing_obj=$(syrup_weighing_c)/obj
add_syrup_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/add_syrup
add_syrup_o=$(add_syrup_c)/$(TOOL_MACH)
add_syrup_obj=$(add_syrup_c)/obj
mixture_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/mixture
mixture_o=$(mixture_c)/$(TOOL_MACH)
mixture_obj=$(mixture_c)/obj
kneading_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/kneading
kneading_o=$(kneading_c)/$(TOOL_MACH)
kneading_obj=$(kneading_c)/obj
io_agitator_1speed_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/io_library/functional/io_agitator_1speed
io_agitator_1speed_o=$(io_agitator_1speed_c)/$(TOOL_MACH)
io_agitator_1speed_obj=$(io_agitator_1speed_c)/obj
agitator_1speed_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/equipment_library/functional/agitator_1speed
agitator_1speed_o=$(agitator_1speed_c)/$(TOOL_MACH)
agitator_1speed_obj=$(agitator_1speed_c)/obj
cmd_agitator_1speed_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard/cmd_equipment_library/functional/cmd_agitator_1speed
cmd_agitator_1speed_o=$(cmd_agitator_1speed_c)/$(TOOL_MACH)
cmd_agitator_1speed_obj=$(cmd_agitator_1speed_c)/obj
_simu_c=C:/Users/Public/DassaultSystemes/ControlBuild_Trunk/embedded/nt_simu/embedded
_simu_o=$(_simu_c)/$(TOOL_MACH)

### Directories for the search of includes :
_CINCL=-IC:/PROGRA~2/ControlBuild_Trunk/tooldir -IC:/Users/Public/DassaultSystemes/ControlBuild_Trunk/embedded/nt_simu/embedded  -IC:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications/batch/functional/batch -IC:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Applications -IC:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Standard -IC:/Users/Public/DassaultSystemes/ControlBuild_Trunk/examples/examples/Specific

### Link rules :
cible : $(batch_o) $(momentary_button_o) $(switch_2pos_2outputs_o) $(maintained_button_o) $(recipe_o) $(mode_o) $(management_o) $(manufacturing_o) $(flour_o) $(io_on_off_valve_o) $(switch_3pos_2outputs_o) $(cmd_on_off_valve_o) $(cb_ton_o) $(on_off_valve_o) $(tank_o) $(flow_compute_o) $(analog_sensor_o) $(flour_weighing_o) $(bounded_scale_o) $(syrup_o) $(syrup_weighing_o) $(add_syrup_o) $(mixture_o) $(kneading_o) $(io_agitator_1speed_o) $(agitator_1speed_o) $(cmd_agitator_1speed_o) $(batch_obj) $(batch_obj)/batch.exe
	@echo "Compilation Ok"

$(batch_o)/_batch_1.a : batch.mki $(batch_o)/batch.o $(momentary_button_o)/momentary_button.o $(switch_2pos_2outputs_o)/switch_2pos_2outputs.o $(maintained_button_o)/maintained_button.o $(recipe_o)/recipe.o $(mode_o)/mode.o $(management_o)/management.o $(manufacturing_o)/manufacturing.o $(flour_o)/flour.o $(io_on_off_valve_o)/io_on_off_valve.o 
	rm -f $@ 
	$(_LDI1) $(batch_o)/batch.o $(momentary_button_o)/momentary_button.o $(switch_2pos_2outputs_o)/switch_2pos_2outputs.o $(maintained_button_o)/maintained_button.o $(recipe_o)/recipe.o $(mode_o)/mode.o $(management_o)/management.o $(manufacturing_o)/manufacturing.o $(flour_o)/flour.o $(io_on_off_valve_o)/io_on_off_valve.o $(_LDI2)
	$(_AR) s $@

$(batch_o)/_batch_2.a : batch.mki $(switch_3pos_2outputs_o)/switch_3pos_2outputs.o $(cmd_on_off_valve_o)/cmd_on_off_valve.o $(cb_ton_o)/cb_ton.o $(on_off_valve_o)/on_off_valve.o $(tank_o)/tank.o $(flow_compute_o)/flow_compute.o $(analog_sensor_o)/analog_sensor.o $(flour_weighing_o)/flour_weighing.o $(bounded_scale_o)/bounded_scale.o $(syrup_o)/syrup.o 
	rm -f $@ 
	$(_LDI1) $(switch_3pos_2outputs_o)/switch_3pos_2outputs.o $(cmd_on_off_valve_o)/cmd_on_off_valve.o $(cb_ton_o)/cb_ton.o $(on_off_valve_o)/on_off_valve.o $(tank_o)/tank.o $(flow_compute_o)/flow_compute.o $(analog_sensor_o)/analog_sensor.o $(flour_weighing_o)/flour_weighing.o $(bounded_scale_o)/bounded_scale.o $(syrup_o)/syrup.o $(_LDI2)
	$(_AR) s $@

$(batch_o)/_batch_3.a : batch.mki $(syrup_weighing_o)/syrup_weighing.o $(add_syrup_o)/add_syrup.o $(mixture_o)/mixture.o $(kneading_o)/kneading.o $(io_agitator_1speed_o)/io_agitator_1speed.o $(agitator_1speed_o)/agitator_1speed.o $(cmd_agitator_1speed_o)/cmd_agitator_1speed.o $(batch_o)/_init.o 
	rm -f $@ 
	$(_LDI1) $(syrup_weighing_o)/syrup_weighing.o $(add_syrup_o)/add_syrup.o $(mixture_o)/mixture.o $(kneading_o)/kneading.o $(io_agitator_1speed_o)/io_agitator_1speed.o $(agitator_1speed_o)/agitator_1speed.o $(cmd_agitator_1speed_o)/cmd_agitator_1speed.o $(batch_o)/_init.o $(_LDI2)
	$(_AR) s $@

$(batch_obj)/batch.exe : $(batch_o)/_batch_1.a $(batch_o)/_batch_2.a $(batch_o)/_batch_3.a $(_simu_o)/cb_main.o $(_simu_o)/cb_memory.o $(_simu_o)/cb_hook.o $(_simu_o)/cb_io.o $(_simu_o)/cb_products.o $(_simu_o)/iec_1131.o $(batch_o)/_sign.o 
	$(_LD1) $(batch_o)/_batch_1.a $(batch_o)/_batch_2.a $(batch_o)/_batch_3.a $(_simu_o)/cb_main.o $(_simu_o)/cb_memory.o $(_simu_o)/cb_hook.o $(_simu_o)/cb_io.o $(_simu_o)/cb_products.o $(_simu_o)/iec_1131.o $(batch_o)/_sign.o $(_LD2)

$(batch_o)/_sign.o :
	@echo "int getSignature(void) { return " > _sign.c
	@echo "0" >> _sign.c
	@echo "; }" >> _sign.c
	@echo "int getGenerationTime(void) { return " >> _sign.c
	@echo "1246547211" >> _sign.c
	@echo "; }" >> _sign.c
	$(_CC1) _sign.c
	$(_CC2)
	@echo "New Signature"

### Directories making for .o files :
$(batch_o) :
	@mkdir $@
$(momentary_button_o) :
	@mkdir $@
$(switch_2pos_2outputs_o) :
	@mkdir $@
$(maintained_button_o) :
	@mkdir $@
$(recipe_o) :
	@mkdir $@
$(mode_o) :
	@mkdir $@
$(management_o) :
	@mkdir $@
$(manufacturing_o) :
	@mkdir $@
$(flour_o) :
	@mkdir $@
$(io_on_off_valve_o) :
	@mkdir $@
$(switch_3pos_2outputs_o) :
	@mkdir $@
$(cmd_on_off_valve_o) :
	@mkdir $@
$(cb_ton_o) :
	@mkdir $@
$(on_off_valve_o) :
	@mkdir $@
$(tank_o) :
	@mkdir $@
$(flow_compute_o) :
	@mkdir $@
$(analog_sensor_o) :
	@mkdir $@
$(flour_weighing_o) :
	@mkdir $@
$(bounded_scale_o) :
	@mkdir $@
$(syrup_o) :
	@mkdir $@
$(syrup_weighing_o) :
	@mkdir $@
$(add_syrup_o) :
	@mkdir $@
$(mixture_o) :
	@mkdir $@
$(kneading_o) :
	@mkdir $@
$(io_agitator_1speed_o) :
	@mkdir $@
$(agitator_1speed_o) :
	@mkdir $@
$(cmd_agitator_1speed_o) :
	@mkdir $@
$(batch_obj) :
	@mkdir $@
$(momentary_button_obj) :
	@mkdir $@
$(switch_2pos_2outputs_obj) :
	@mkdir $@
$(maintained_button_obj) :
	@mkdir $@
$(recipe_obj) :
	@mkdir $@
$(mode_obj) :
	@mkdir $@
$(management_obj) :
	@mkdir $@
$(manufacturing_obj) :
	@mkdir $@
$(flour_obj) :
	@mkdir $@
$(io_on_off_valve_obj) :
	@mkdir $@
$(switch_3pos_2outputs_obj) :
	@mkdir $@
$(cmd_on_off_valve_obj) :
	@mkdir $@
$(cb_ton_obj) :
	@mkdir $@
$(on_off_valve_obj) :
	@mkdir $@
$(tank_obj) :
	@mkdir $@
$(flow_compute_obj) :
	@mkdir $@
$(analog_sensor_obj) :
	@mkdir $@
$(flour_weighing_obj) :
	@mkdir $@
$(bounded_scale_obj) :
	@mkdir $@
$(syrup_obj) :
	@mkdir $@
$(syrup_weighing_obj) :
	@mkdir $@
$(add_syrup_obj) :
	@mkdir $@
$(mixture_obj) :
	@mkdir $@
$(kneading_obj) :
	@mkdir $@
$(io_agitator_1speed_obj) :
	@mkdir $@
$(agitator_1speed_obj) :
	@mkdir $@
$(cmd_agitator_1speed_obj) :
	@mkdir $@

### Compilation rules :
$(batch_o)/batch.o : batch.c batch.h
	$(_CC1) batch.c
	$(_CC2)
$(momentary_button_o)/momentary_button.o : $(momentary_button_c)/momentary_button.c $(momentary_button_c)/momentary_button.h
	$(_CC1) $(momentary_button_c)/momentary_button.c
	$(_CC2)
$(switch_2pos_2outputs_o)/switch_2pos_2outputs.o : $(switch_2pos_2outputs_c)/switch_2pos_2outputs.c $(switch_2pos_2outputs_c)/switch_2pos_2outputs.h
	$(_CC1) $(switch_2pos_2outputs_c)/switch_2pos_2outputs.c
	$(_CC2)
$(maintained_button_o)/maintained_button.o : $(maintained_button_c)/maintained_button.c $(maintained_button_c)/maintained_button.h
	$(_CC1) $(maintained_button_c)/maintained_button.c
	$(_CC2)
$(recipe_o)/recipe.o : $(recipe_c)/recipe.c $(recipe_c)/recipe.h
	$(_CC1) $(recipe_c)/recipe.c
	$(_CC2)
$(mode_o)/mode.o : $(mode_c)/mode.c $(mode_c)/mode.h
	$(_CC1) $(mode_c)/mode.c
	$(_CC2)
$(management_o)/management.o : $(management_c)/management.c $(management_c)/management.h
	$(_CC1) $(management_c)/management.c
	$(_CC2)
$(manufacturing_o)/manufacturing.o : $(manufacturing_c)/manufacturing.c $(manufacturing_c)/manufacturing.h
	$(_CC1) $(manufacturing_c)/manufacturing.c
	$(_CC2)
$(flour_o)/flour.o : $(flour_c)/flour.c $(flour_c)/flour.h
	$(_CC1) $(flour_c)/flour.c
	$(_CC2)
$(io_on_off_valve_o)/io_on_off_valve.o : $(io_on_off_valve_c)/io_on_off_valve.c $(io_on_off_valve_c)/io_on_off_valve.h
	$(_CC1) $(io_on_off_valve_c)/io_on_off_valve.c
	$(_CC2)
$(switch_3pos_2outputs_o)/switch_3pos_2outputs.o : $(switch_3pos_2outputs_c)/switch_3pos_2outputs.c $(switch_3pos_2outputs_c)/switch_3pos_2outputs.h
	$(_CC1) $(switch_3pos_2outputs_c)/switch_3pos_2outputs.c
	$(_CC2)
$(cmd_on_off_valve_o)/cmd_on_off_valve.o : $(cmd_on_off_valve_c)/cmd_on_off_valve.c $(cmd_on_off_valve_c)/cmd_on_off_valve.h
	$(_CC1) $(cmd_on_off_valve_c)/cmd_on_off_valve.c
	$(_CC2)
$(cb_ton_o)/cb_ton.o : $(cb_ton_c)/cb_ton.c $(cb_ton_c)/cb_ton.h
	$(_CC1) $(cb_ton_c)/cb_ton.c
	$(_CC2)
$(on_off_valve_o)/on_off_valve.o : $(on_off_valve_c)/on_off_valve.c $(on_off_valve_c)/on_off_valve.h
	$(_CC1) $(on_off_valve_c)/on_off_valve.c
	$(_CC2)
$(tank_o)/tank.o : $(tank_c)/tank.c $(tank_c)/tank.h
	$(_CC1) $(tank_c)/tank.c
	$(_CC2)
$(flow_compute_o)/flow_compute.o : $(flow_compute_c)/flow_compute.c $(flow_compute_c)/flow_compute.h
	$(_CC1) $(flow_compute_c)/flow_compute.c
	$(_CC2)
$(analog_sensor_o)/analog_sensor.o : $(analog_sensor_c)/analog_sensor.c $(analog_sensor_c)/analog_sensor.h
	$(_CC1) $(analog_sensor_c)/analog_sensor.c
	$(_CC2)
$(flour_weighing_o)/flour_weighing.o : $(flour_weighing_c)/flour_weighing.c $(flour_weighing_c)/flour_weighing.h
	$(_CC1) $(flour_weighing_c)/flour_weighing.c
	$(_CC2)
$(bounded_scale_o)/bounded_scale.o : $(bounded_scale_c)/bounded_scale.c $(bounded_scale_c)/bounded_scale.h
	$(_CC1) $(bounded_scale_c)/bounded_scale.c
	$(_CC2)
$(syrup_o)/syrup.o : $(syrup_c)/syrup.c $(syrup_c)/syrup.h
	$(_CC1) $(syrup_c)/syrup.c
	$(_CC2)
$(syrup_weighing_o)/syrup_weighing.o : $(syrup_weighing_c)/syrup_weighing.c $(syrup_weighing_c)/syrup_weighing.h
	$(_CC1) $(syrup_weighing_c)/syrup_weighing.c
	$(_CC2)
$(add_syrup_o)/add_syrup.o : $(add_syrup_c)/add_syrup.c $(add_syrup_c)/add_syrup.h
	$(_CC1) $(add_syrup_c)/add_syrup.c
	$(_CC2)
$(mixture_o)/mixture.o : $(mixture_c)/mixture.c $(mixture_c)/mixture.h
	$(_CC1) $(mixture_c)/mixture.c
	$(_CC2)
$(kneading_o)/kneading.o : $(kneading_c)/kneading.c $(kneading_c)/kneading.h
	$(_CC1) $(kneading_c)/kneading.c
	$(_CC2)
$(io_agitator_1speed_o)/io_agitator_1speed.o : $(io_agitator_1speed_c)/io_agitator_1speed.c $(io_agitator_1speed_c)/io_agitator_1speed.h
	$(_CC1) $(io_agitator_1speed_c)/io_agitator_1speed.c
	$(_CC2)
$(agitator_1speed_o)/agitator_1speed.o : $(agitator_1speed_c)/agitator_1speed.c $(agitator_1speed_c)/agitator_1speed.h
	$(_CC1) $(agitator_1speed_c)/agitator_1speed.c
	$(_CC2)
$(cmd_agitator_1speed_o)/cmd_agitator_1speed.o : $(cmd_agitator_1speed_c)/cmd_agitator_1speed.c $(cmd_agitator_1speed_c)/cmd_agitator_1speed.h
	$(_CC1) $(cmd_agitator_1speed_c)/cmd_agitator_1speed.c
	$(_CC2)
$(batch_o)/_init.o : _init.c _init.h
	$(_CC1) _init.c
	$(_CC2)

### Compilation rules for externals functions :
$(_simu_o)/iec_1131.o : $(_simu_c)/iec_1131.c $(_simu_c)/iec_1131.h
	$(_CC1) $(_simu_c)/iec_1131.c
	$(_CC2)

### Compilation rules for externals fbs :
