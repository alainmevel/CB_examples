/*2023-10-03T11:13:37-01:00*/

/********************************************************************
 * syrup_weighing.c
 * 
 * generated by: plcgen 3.1.391
 ********************************************************************/

#include "cb_comp.h"
#include "iec_1131.h"

#include "syrup_weighing.h"


/**************************** Variables *****************************/

CB_Index syrup_weighing__num = 0;
CB_Mem_Bool *syrup_weighing_weighingRequest;
CB_Mem_Bool *syrup_weighing_cycleInProgress;
CB_Mem_Int *syrup_weighing_weighingWeight;
CB_Mem_Int *syrup_weighing_syrup1Weight;
CB_Mem_Int *syrup_weighing_syrup2Weight;
CB_Mem_Int *syrup_weighing_syrup3Weight;
CB_Mem_Bool *syrup_weighing_weighingOk;
CB_Mem_Bool *syrup_weighing_introduceS1;
CB_Mem_Bool *syrup_weighing_introS1End;
CB_Mem_Bool *syrup_weighing_introduceS2;
CB_Mem_Bool *syrup_weighing_introS2End;
CB_Mem_Bool *syrup_weighing_introduceS3;
CB_Mem_Bool *syrup_weighing_introS3End;
CB_Mem_Bool *syrup_weighing_exitSyrup;
CB_Mem_Bool *syrup_weighing_exitSyrupEnd;
CB_Mem_Int *syrup_weighing_totalWeight;
CB_Mem_Bool *syrup_weighing_weighingS1;
CB_Mem_Bool *syrup_weighing_weighingS2;
CB_Mem_Bool *syrup_weighing_weighingS3;
CB_Mem_Bool *syrup_weighing_weighingS1Ok;
CB_Mem_Bool *syrup_weighing_weighingS2Ok;
CB_Mem_Bool *syrup_weighing_weighingS3Ok;
CB_Mem_Bool *syrup_weighing_endOfWeighingS3;
CB_Mem_Bool *syrup_weighing_endOfWeighingS2;
CB_Mem_Bool *syrup_weighing_endOfWeighingS1;
CB_Mem_Int *syrup_weighing_maxWeight;
CB_Mem_Bool *syrup_weighing__X_10;
CB_Mem_Bool *syrup_weighing__X_11;
CB_Mem_Bool *syrup_weighing__X_12;
CB_Mem_Bool *syrup_weighing__X_13;
CB_Mem_Bool *syrup_weighing__X_14;
CB_Mem_Bool *syrup_weighing__X_15;
CB_Mem_Bool *syrup_weighing__X_20;
CB_Mem_Bool *syrup_weighing__X_21;
CB_Mem_Bool *syrup_weighing__X_22;
CB_Mem_Bool *syrup_weighing__X_23;
CB_Mem_Bool *syrup_weighing__X_24;
CB_Mem_Bool *syrup_weighing__X_30;
CB_Mem_Bool *syrup_weighing__X_31;
CB_Mem_Bool *syrup_weighing__X_32;
CB_Mem_Bool *syrup_weighing__X_34;
CB_Mem_Bool *syrup_weighing__X_35;
CB_Mem_Bool *syrup_weighing__X_33;
CB_Mem_Bool *syrup_weighing__X_40;
CB_Mem_Bool *syrup_weighing__X_41;
CB_Mem_Bool *syrup_weighing__X_42;
CB_Mem_Bool *syrup_weighing__X_44;
CB_Mem_Bool *syrup_weighing__X_45;
CB_Mem_Bool *syrup_weighing__X_43;
CB_Mem_Int *syrup_weighing__TIMER_12;
CB_Mem_Int *syrup_weighing__TIMER_32;
CB_Mem_Int *syrup_weighing__TIMER_42;
CB_Mem_Bool *syrup_weighing__X_12_PREV;
CB_Mem_Bool *syrup_weighing__X_11_PREV;
CB_Mem_Bool *syrup_weighing__X_13_PREV;
CB_Mem_Bool *syrup_weighing__X_15_PREV;
CB_Mem_Bool *syrup_weighing__X_21_PREV;
CB_Mem_Bool *syrup_weighing__X_22_PREV;
CB_Mem_Bool *syrup_weighing__X_23_PREV;
CB_Mem_Bool *syrup_weighing__X_24_PREV;
CB_Mem_Bool *syrup_weighing__X_32_PREV;
CB_Mem_Bool *syrup_weighing__X_31_PREV;
CB_Mem_Bool *syrup_weighing__X_35_PREV;
CB_Mem_Bool *syrup_weighing__X_33_PREV;
CB_Mem_Bool *syrup_weighing__X_42_PREV;
CB_Mem_Bool *syrup_weighing__X_41_PREV;
CB_Mem_Bool *syrup_weighing__X_45_PREV;
CB_Mem_Bool *syrup_weighing__X_43_PREV;

/**************************** Variables *****************************/

#define weighingRequest (syrup_weighing_weighingRequest->CB_current_value)
#define cycleInProgress (syrup_weighing_cycleInProgress->CB_current_value)
#define weighingWeight (syrup_weighing_weighingWeight->CB_current_value)
#define syrup1Weight (syrup_weighing_syrup1Weight->CB_current_value)
#define syrup2Weight (syrup_weighing_syrup2Weight->CB_current_value)
#define syrup3Weight (syrup_weighing_syrup3Weight->CB_current_value)
#define weighingOk (syrup_weighing_weighingOk->CB_current_value)
#define introduceS1 (syrup_weighing_introduceS1->CB_current_value)
#define introS1End (syrup_weighing_introS1End->CB_current_value)
#define introduceS2 (syrup_weighing_introduceS2->CB_current_value)
#define introS2End (syrup_weighing_introS2End->CB_current_value)
#define introduceS3 (syrup_weighing_introduceS3->CB_current_value)
#define introS3End (syrup_weighing_introS3End->CB_current_value)
#define exitSyrup (syrup_weighing_exitSyrup->CB_current_value)
#define exitSyrupEnd (syrup_weighing_exitSyrupEnd->CB_current_value)
#define totalWeight (syrup_weighing_totalWeight->CB_current_value)
#define weighingS1 (syrup_weighing_weighingS1->CB_current_value)
#define weighingS2 (syrup_weighing_weighingS2->CB_current_value)
#define weighingS3 (syrup_weighing_weighingS3->CB_current_value)
#define weighingS1Ok (syrup_weighing_weighingS1Ok->CB_current_value)
#define weighingS2Ok (syrup_weighing_weighingS2Ok->CB_current_value)
#define weighingS3Ok (syrup_weighing_weighingS3Ok->CB_current_value)
#define endOfWeighingS3 (syrup_weighing_endOfWeighingS3->CB_current_value)
#define endOfWeighingS2 (syrup_weighing_endOfWeighingS2->CB_current_value)
#define endOfWeighingS1 (syrup_weighing_endOfWeighingS1->CB_current_value)
#define maxWeight (syrup_weighing_maxWeight->CB_current_value)
#define _X_10 (syrup_weighing__X_10->CB_current_value)
#define _X_11 (syrup_weighing__X_11->CB_current_value)
#define _X_12 (syrup_weighing__X_12->CB_current_value)
#define _X_13 (syrup_weighing__X_13->CB_current_value)
#define _X_14 (syrup_weighing__X_14->CB_current_value)
#define _X_15 (syrup_weighing__X_15->CB_current_value)
#define _X_20 (syrup_weighing__X_20->CB_current_value)
#define _X_21 (syrup_weighing__X_21->CB_current_value)
#define _X_22 (syrup_weighing__X_22->CB_current_value)
#define _X_23 (syrup_weighing__X_23->CB_current_value)
#define _X_24 (syrup_weighing__X_24->CB_current_value)
#define _X_30 (syrup_weighing__X_30->CB_current_value)
#define _X_31 (syrup_weighing__X_31->CB_current_value)
#define _X_32 (syrup_weighing__X_32->CB_current_value)
#define _X_34 (syrup_weighing__X_34->CB_current_value)
#define _X_35 (syrup_weighing__X_35->CB_current_value)
#define _X_33 (syrup_weighing__X_33->CB_current_value)
#define _X_40 (syrup_weighing__X_40->CB_current_value)
#define _X_41 (syrup_weighing__X_41->CB_current_value)
#define _X_42 (syrup_weighing__X_42->CB_current_value)
#define _X_44 (syrup_weighing__X_44->CB_current_value)
#define _X_45 (syrup_weighing__X_45->CB_current_value)
#define _X_43 (syrup_weighing__X_43->CB_current_value)
#define _TIMER_12 (*((unsigned long *)&(syrup_weighing__TIMER_12->CB_current_value)))
#define _TIMER_32 (*((unsigned long *)&(syrup_weighing__TIMER_32->CB_current_value)))
#define _TIMER_42 (*((unsigned long *)&(syrup_weighing__TIMER_42->CB_current_value)))
#define _X_12_PREV (syrup_weighing__X_12_PREV->CB_current_value)
#define _X_11_PREV (syrup_weighing__X_11_PREV->CB_current_value)
#define _X_13_PREV (syrup_weighing__X_13_PREV->CB_current_value)
#define _X_15_PREV (syrup_weighing__X_15_PREV->CB_current_value)
#define _X_21_PREV (syrup_weighing__X_21_PREV->CB_current_value)
#define _X_22_PREV (syrup_weighing__X_22_PREV->CB_current_value)
#define _X_23_PREV (syrup_weighing__X_23_PREV->CB_current_value)
#define _X_24_PREV (syrup_weighing__X_24_PREV->CB_current_value)
#define _X_32_PREV (syrup_weighing__X_32_PREV->CB_current_value)
#define _X_31_PREV (syrup_weighing__X_31_PREV->CB_current_value)
#define _X_35_PREV (syrup_weighing__X_35_PREV->CB_current_value)
#define _X_33_PREV (syrup_weighing__X_33_PREV->CB_current_value)
#define _X_42_PREV (syrup_weighing__X_42_PREV->CB_current_value)
#define _X_41_PREV (syrup_weighing__X_41_PREV->CB_current_value)
#define _X_45_PREV (syrup_weighing__X_45_PREV->CB_current_value)
#define _X_43_PREV (syrup_weighing__X_43_PREV->CB_current_value)


/************************ Components offsets ************************/


/********************* Initialization function **********************/

int _batch__syrup_weighing_init(void)
{
	(self.Int+1)->CB_current_value = 200; /*maxWeight*/
	(self.Bool+9)->CB_current_value = 1; /*_X_10*/
	(self.Bool+15)->CB_current_value = 1; /*_X_20*/
	(self.Bool+20)->CB_current_value = 1; /*_X_30*/
	(self.Bool+26)->CB_current_value = 1; /*_X_40*/
	self.Bool+=48;
	self.Int+=5;


	return 0;
}


/************************ Behavior function *************************/

int batch__syrup_weighing(void)
{
	if (exec_term_node(self_num)) {

		/*********************** Internals variables ************************/

		syrup_weighing_totalWeight = self.Int+0;
		syrup_weighing_weighingS1 = self.Bool+0;
		syrup_weighing_weighingS2 = self.Bool+1;
		syrup_weighing_weighingS3 = self.Bool+2;
		syrup_weighing_weighingS1Ok = self.Bool+3;
		syrup_weighing_weighingS2Ok = self.Bool+4;
		syrup_weighing_weighingS3Ok = self.Bool+5;
		syrup_weighing_endOfWeighingS3 = self.Bool+6;
		syrup_weighing_endOfWeighingS2 = self.Bool+7;
		syrup_weighing_endOfWeighingS1 = self.Bool+8;
		syrup_weighing_maxWeight = self.Int+1;
		syrup_weighing__X_10 = self.Bool+9;
		syrup_weighing__X_11 = self.Bool+10;
		syrup_weighing__X_12 = self.Bool+11;
		syrup_weighing__X_13 = self.Bool+12;
		syrup_weighing__X_14 = self.Bool+13;
		syrup_weighing__X_15 = self.Bool+14;
		syrup_weighing__X_20 = self.Bool+15;
		syrup_weighing__X_21 = self.Bool+16;
		syrup_weighing__X_22 = self.Bool+17;
		syrup_weighing__X_23 = self.Bool+18;
		syrup_weighing__X_24 = self.Bool+19;
		syrup_weighing__X_30 = self.Bool+20;
		syrup_weighing__X_31 = self.Bool+21;
		syrup_weighing__X_32 = self.Bool+22;
		syrup_weighing__X_34 = self.Bool+23;
		syrup_weighing__X_35 = self.Bool+24;
		syrup_weighing__X_33 = self.Bool+25;
		syrup_weighing__X_40 = self.Bool+26;
		syrup_weighing__X_41 = self.Bool+27;
		syrup_weighing__X_42 = self.Bool+28;
		syrup_weighing__X_44 = self.Bool+29;
		syrup_weighing__X_45 = self.Bool+30;
		syrup_weighing__X_43 = self.Bool+31;
		syrup_weighing__TIMER_12 = self.Int+2;
		syrup_weighing__TIMER_32 = self.Int+3;
		syrup_weighing__TIMER_42 = self.Int+4;
		syrup_weighing__X_12_PREV = self.Bool+32;
		syrup_weighing__X_11_PREV = self.Bool+33;
		syrup_weighing__X_13_PREV = self.Bool+34;
		syrup_weighing__X_15_PREV = self.Bool+35;
		syrup_weighing__X_21_PREV = self.Bool+36;
		syrup_weighing__X_22_PREV = self.Bool+37;
		syrup_weighing__X_23_PREV = self.Bool+38;
		syrup_weighing__X_24_PREV = self.Bool+39;
		syrup_weighing__X_32_PREV = self.Bool+40;
		syrup_weighing__X_31_PREV = self.Bool+41;
		syrup_weighing__X_35_PREV = self.Bool+42;
		syrup_weighing__X_33_PREV = self.Bool+43;
		syrup_weighing__X_42_PREV = self.Bool+44;
		syrup_weighing__X_41_PREV = self.Bool+45;
		syrup_weighing__X_45_PREV = self.Bool+46;
		syrup_weighing__X_43_PREV = self.Bool+47;

		/********************* Pre-conditions execution *********************/

		/*no Pre-conditions*/

		/************************ Behavior execution ************************/

		{
			unsigned char _Y_13;
			unsigned char _Y_12;
			unsigned char _Y_11;
			unsigned char _Y_10;
			unsigned char _Y_9;
			unsigned char _Y_8;
			unsigned char _Y_7;
			unsigned char _Y_34;
			unsigned char _Y_33;
			unsigned char _Y_32;
			unsigned char _Y_31;
			unsigned char _Y_30;
			unsigned char _Y_56;
			unsigned char _Y_54;
			unsigned char _Y_55;
			unsigned char _Y_53;
			unsigned char _Y_52;
			unsigned char _Y_51;
			unsigned char _Y_50;
			unsigned char _Y_80;
			unsigned char _Y_79;
			unsigned char _Y_78;
			unsigned char _Y_77;
			unsigned char _Y_75;
			unsigned char _Y_74;
			unsigned char _Y_76;
			/*pre-SFC*/
			endOfWeighingS1 = (totalWeight + weighingWeight >= syrup1Weight) || (weighingWeight >= maxWeight);
			endOfWeighingS2 = (totalWeight + weighingWeight >= syrup2Weight) || (weighingWeight >= maxWeight);
			endOfWeighingS3 = (totalWeight + weighingWeight >= syrup3Weight) || (weighingWeight >= maxWeight);
			/*transitions G1*/
			_Y_13 = _X_14 && (cycleInProgress && (totalWeight < syrup1Weight));
			_Y_12 = _X_10 && weighingS1;
			_Y_11 = _X_11 && endOfWeighingS1;
			_Y_10 = _X_12 && (cycleInProgress && (_TIMER_12 >= 250 * 1000.0 / CLOCK_PERIOD));
			_Y_9 = _X_13 && (weighingWeight <= 1);
			_Y_8 = _X_14 && (!_Y_13 && (cycleInProgress && (totalWeight >= syrup1Weight)));
			_Y_7 = _X_15 && !weighingS1;
			/*transitions G2*/
			_Y_34 = _X_20 && (cycleInProgress && weighingRequest);
			_Y_33 = _X_21 && (cycleInProgress && (weighingS1Ok || (syrup1Weight <= 0)));
			_Y_32 = _X_22 && (cycleInProgress && (weighingS2Ok || (syrup2Weight <= 0)));
			_Y_31 = _X_23 && (cycleInProgress && (weighingS3Ok || (syrup3Weight <= 0)));
			_Y_30 = _X_24 && !weighingRequest;
			/*transitions G3*/
			_Y_56 = _X_34 && (cycleInProgress && (totalWeight < syrup2Weight));
			_Y_54 = _X_31 && endOfWeighingS2;
			_Y_55 = _X_30 && weighingS2;
			_Y_53 = _X_32 && (cycleInProgress && (_TIMER_32 >= 250 * 1000.0 / CLOCK_PERIOD));
			_Y_52 = _X_33 && (weighingWeight <= 1);
			_Y_51 = _X_34 && (!_Y_56 && (cycleInProgress && (totalWeight >= syrup2Weight)));
			_Y_50 = _X_35 && !weighingS2;
			/*transitions G4*/
			_Y_80 = _X_44 && (cycleInProgress && (totalWeight < syrup3Weight));
			_Y_79 = _X_40 && weighingS3;
			_Y_78 = _X_41 && endOfWeighingS3;
			_Y_77 = _X_42 && (cycleInProgress && (_TIMER_42 >= 250 * 1000.0 / CLOCK_PERIOD));
			_Y_75 = _X_44 && (!_Y_80 && (cycleInProgress && (totalWeight >= syrup3Weight)));
			_Y_74 = _X_45 && !weighingS3;
			_Y_76 = _X_43 && (weighingWeight <= 1);
			/*evolutions G1*/
			if (_Y_13) {
				_X_14 = 0;
			}
			if (_Y_12) {
				_X_10 = 0;
			}
			if (_Y_11) {
				_X_11 = 0;
			}
			if (_Y_10) {
				_X_12 = 0;
			}
			if (_Y_9) {
				_X_13 = 0;
			}
			if (_Y_8) {
				_X_14 = 0;
			}
			if (_Y_7) {
				_X_15 = 0;
			}
			if (_Y_13) {
				_X_11 = 1;
			}
			if (_Y_12) {
				_X_11 = 1;
			}
			if (_Y_11) {
				_X_12 = 1;
			}
			if (_Y_10) {
				_X_13 = 1;
			}
			if (_Y_9) {
				_X_14 = 1;
			}
			if (_Y_8) {
				_X_15 = 1;
			}
			if (_Y_7) {
				_X_10 = 1;
			}
			/*timers G1*/
			if (_X_12) {
				if (CB_edge_bool(_X_12, _X_12_PREV) > 0) {
					_TIMER_12 = 0;
				}
				else {
					if (_TIMER_12 < _MAX_TIMER) {
						_TIMER_12 = _TIMER_12 + 1;
					}
				}
			}
			/*actions G1*/
			if (CB_edge_bool(_X_11, _X_11_PREV) < 0) {
				introduceS1 = 0;
			}
			if (CB_edge_bool(_X_13, _X_13_PREV) < 0) {
				exitSyrup = 0;
			}
			if (CB_edge_bool(_X_15, _X_15_PREV) < 0) {
				weighingS1Ok = 0;
			}
			if (_X_11) {
				introduceS1 = 1;
			}
			if (_X_12) {
				if (CB_edge_bool(_X_12, _X_12_PREV) > 0) {
					totalWeight = totalWeight + weighingWeight;
				}
			}
			if (_X_13) {
				exitSyrup = 1;
			}
			if (_X_15) {
				weighingS1Ok = 1;
				totalWeight = 0;
			}
			/*evolutions G2*/
			if (_Y_34) {
				_X_20 = 0;
			}
			if (_Y_33) {
				_X_21 = 0;
			}
			if (_Y_32) {
				_X_22 = 0;
			}
			if (_Y_31) {
				_X_23 = 0;
			}
			if (_Y_30) {
				_X_24 = 0;
			}
			if (_Y_34) {
				_X_21 = 1;
			}
			if (_Y_33) {
				_X_22 = 1;
			}
			if (_Y_32) {
				_X_23 = 1;
			}
			if (_Y_31) {
				_X_24 = 1;
			}
			if (_Y_30) {
				_X_20 = 1;
			}
			/*timers G2*/
			/*actions G2*/
			if (CB_edge_bool(_X_21, _X_21_PREV) < 0) {
				weighingS1 = 0;
			}
			if (CB_edge_bool(_X_22, _X_22_PREV) < 0) {
				weighingS2 = 0;
			}
			if (CB_edge_bool(_X_23, _X_23_PREV) < 0) {
				weighingS3 = 0;
			}
			if (CB_edge_bool(_X_24, _X_24_PREV) < 0) {
				weighingOk = 0;
			}
			if (_X_21) {
				if (syrup1Weight > 0) {
					weighingS1 = 1;
				}
				else {
					weighingS1 = 0;
				}
			}
			if (_X_22) {
				if (syrup2Weight > 0) {
					weighingS2 = 1;
				}
				else {
					weighingS2 = 0;
				}
			}
			if (_X_23) {
				if (syrup3Weight > 0) {
					weighingS3 = 1;
				}
				else {
					weighingS3 = 0;
				}
			}
			if (_X_24) {
				weighingOk = 1;
			}
			/*evolutions G3*/
			if (_Y_56) {
				_X_34 = 0;
			}
			if (_Y_54) {
				_X_31 = 0;
			}
			if (_Y_55) {
				_X_30 = 0;
			}
			if (_Y_53) {
				_X_32 = 0;
			}
			if (_Y_52) {
				_X_33 = 0;
			}
			if (_Y_51) {
				_X_34 = 0;
			}
			if (_Y_50) {
				_X_35 = 0;
			}
			if (_Y_56) {
				_X_31 = 1;
			}
			if (_Y_54) {
				_X_32 = 1;
			}
			if (_Y_55) {
				_X_31 = 1;
			}
			if (_Y_53) {
				_X_33 = 1;
			}
			if (_Y_52) {
				_X_34 = 1;
			}
			if (_Y_51) {
				_X_35 = 1;
			}
			if (_Y_50) {
				_X_30 = 1;
			}
			/*timers G3*/
			if (_X_32) {
				if (CB_edge_bool(_X_32, _X_32_PREV) > 0) {
					_TIMER_32 = 0;
				}
				else {
					if (_TIMER_32 < _MAX_TIMER) {
						_TIMER_32 = _TIMER_32 + 1;
					}
				}
			}
			/*actions G3*/
			if (CB_edge_bool(_X_31, _X_31_PREV) < 0) {
				introduceS2 = 0;
			}
			if (CB_edge_bool(_X_35, _X_35_PREV) < 0) {
				weighingS2Ok = 0;
			}
			if (CB_edge_bool(_X_33, _X_33_PREV) < 0) {
				exitSyrup = 0;
			}
			if (_X_31) {
				introduceS2 = 1;
			}
			if (_X_32) {
				if (CB_edge_bool(_X_32, _X_32_PREV) > 0) {
					totalWeight = totalWeight + weighingWeight;
				}
			}
			if (_X_35) {
				weighingS2Ok = 1;
				totalWeight = 0;
			}
			if (_X_33) {
				exitSyrup = 1;
			}
			/*evolutions G4*/
			if (_Y_80) {
				_X_44 = 0;
			}
			if (_Y_79) {
				_X_40 = 0;
			}
			if (_Y_78) {
				_X_41 = 0;
			}
			if (_Y_77) {
				_X_42 = 0;
			}
			if (_Y_75) {
				_X_44 = 0;
			}
			if (_Y_74) {
				_X_45 = 0;
			}
			if (_Y_76) {
				_X_43 = 0;
			}
			if (_Y_80) {
				_X_41 = 1;
			}
			if (_Y_79) {
				_X_41 = 1;
			}
			if (_Y_78) {
				_X_42 = 1;
			}
			if (_Y_77) {
				_X_43 = 1;
			}
			if (_Y_75) {
				_X_45 = 1;
			}
			if (_Y_74) {
				_X_40 = 1;
			}
			if (_Y_76) {
				_X_44 = 1;
			}
			/*timers G4*/
			if (_X_42) {
				if (CB_edge_bool(_X_42, _X_42_PREV) > 0) {
					_TIMER_42 = 0;
				}
				else {
					if (_TIMER_42 < _MAX_TIMER) {
						_TIMER_42 = _TIMER_42 + 1;
					}
				}
			}
			/*actions G4*/
			if (CB_edge_bool(_X_41, _X_41_PREV) < 0) {
				introduceS3 = 0;
			}
			if (CB_edge_bool(_X_45, _X_45_PREV) < 0) {
				weighingS3Ok = 0;
			}
			if (CB_edge_bool(_X_43, _X_43_PREV) < 0) {
				exitSyrup = 0;
			}
			if (_X_41) {
				introduceS3 = 1;
			}
			if (_X_42) {
				if (CB_edge_bool(_X_42, _X_42_PREV) > 0) {
					totalWeight = totalWeight + weighingWeight;
				}
			}
			if (_X_45) {
				weighingS3Ok = 1;
				totalWeight = 0;
			}
			if (_X_43) {
				exitSyrup = 1;
			}
			/*post-SFC*/
			if (!cycleInProgress) {
				introduceS1 = 0;
				introduceS2 = 0;
				introduceS3 = 0;
				exitSyrup = 0;
			}
			introS1End = !cycleInProgress || !introduceS1;
			introS2End = !cycleInProgress || !introduceS2;
			introS3End = !cycleInProgress || !introduceS3;
			exitSyrupEnd = !cycleInProgress || !exitSyrup;
			_X_31_PREV = _X_31;
			_X_33_PREV = _X_33;
			_X_13_PREV = _X_13;
			_X_41_PREV = _X_41;
			_X_11_PREV = _X_11;
			_X_35_PREV = _X_35;
			_X_21_PREV = _X_21;
			_X_24_PREV = _X_24;
			_X_42_PREV = _X_42;
			_X_23_PREV = _X_23;
			_X_45_PREV = _X_45;
			_X_12_PREV = _X_12;
			_X_15_PREV = _X_15;
			_X_22_PREV = _X_22;
			_X_32_PREV = _X_32;
			_X_43_PREV = _X_43;
		}

		CB_post_bool(syrup_weighing_weighingOk);
		CB_post_bool(syrup_weighing_introduceS1);
		CB_post_bool(syrup_weighing_introS1End);
		CB_post_bool(syrup_weighing_introduceS2);
		CB_post_bool(syrup_weighing_introS2End);
		CB_post_bool(syrup_weighing_introduceS3);
		CB_post_bool(syrup_weighing_introS3End);
		CB_post_bool(syrup_weighing_exitSyrup);
		CB_post_bool(syrup_weighing_exitSyrupEnd);

		/******************** Post-conditions execution *********************/

		/*no Post-conditions*/
	}

	/*************************** self update ****************************/

	self.Bool += 48;
	self.Int += 5;

	return 0;
}

