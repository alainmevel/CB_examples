<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Generator: ControlBuild -->

<project xmlns="http://www.plcopen.org/xml/tc6_0201.xsd" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.plcopen.org/xml/tc6_0201.xsd TC6_XML_V10.xsd">
	<fileHeader companyName="Dassault Syst&#232;mes" productName="ControlBuild" productVersion="2024x" creationDateTime="2023-10-03T11:13:41-01:00" />
	<contentHeader name="conveyor_management">
		<coordinateInfo>
			<fbd>
				<scaling x="100" y="100" />
			</fbd>
			<ld>
				<scaling x="100" y="100" />
			</ld>
			<sfc>
				<scaling x="32" y="8" />
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes />
		<pous>
			<pou name="bottling_line.conveyor_management" pouType="functionBlock">
				<interface>
					<inputVars>
						<variable name="productionRequest">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>b99a9d24-8ad4-4695-bf82-3a4b763df030</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inputVars</value>
							</data>
						</addData>
					</inputVars>
					<inputVars>
						<variable name="pulseGenerator">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>73881dda-a4fc-4ff3-979a-1bc1c9fac161</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="bottleFilled">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>384d8778-8476-4e6a-a1c1-cc97ec55412e</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="bottlePresent">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>566fb788-bb3b-4b3a-9f44-76c92ca1a86e</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.group" handleUnknown="preserve">
								<value>OP_FeedBacks</value>
							</data>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inputVars</value>
							</data>
						</addData>
					</inputVars>
					<outputVars>
						<variable name="load">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>47178655-4142-4516-b110-3696cb1a2570</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="evacuate">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>3e4d3c25-8582-4a79-938d-70074ecfd94b</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="convoy">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>58a669fe-9517-421c-b3b5-3098cc749086</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.group" handleUnknown="preserve">
								<value>ConveyorFunctionRequests</value>
							</data>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<outputVars>
						<variable name="valve5">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>7d44e449-127c-4a21-810c-11ef20162e68</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<localVars>
						<variable name="encoder">
							<type>
								<INT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>eb20b0ce-2853-4255-97dc-9257f0065110</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>localVars</value>
							</data>
						</addData>
					</localVars>
					<localVars constant="true">
						<variable name="value">
							<type>
								<INT />
							</type>
							<initialValue>
								<simpleValue value="10" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>b58430d0-6ad9-44d3-b4a1-7468839a58e2</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<variable name="increment">
							<type>
								<INT />
							</type>
							<initialValue>
								<simpleValue value="1" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>d3656f0f-f994-49bc-8b4a-16440e5411b4</value>
								</data>
								<data name="Geensys.CB.mnemonicPatternPropertyName" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.wordingPattern" handleUnknown="preserve">
									<value>&lt;CLASS_PATTERN&gt;</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>parameterVars</value>
							</data>
						</addData>
					</localVars>
					<addData>
						<data name="Geensys.CB.groupIn" handleUnknown="preserve">
							<value>OP_FeedBacks,</value>
						</data>
						<data name="Geensys.CB.groupOut" handleUnknown="preserve">
							<value>ConveyorFunctionRequests,</value>
						</data>
					</addData>
				</interface>
				<actions>
				</actions>
				<body>
					<SFC>
						<label localId="0" label="G1">
							<position x="0" y="0" />
						</label>
						<actionBlock localId="12" width="218" height="64">
							<position x="174" y="94" />
							<connectionPointIn>
								<connection refLocalId="1" />
							</connectionPointIn>
							<action localId="13">
								<relPosition x="0" y="0" />
								<inline>
									<ST>encoder := 0;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="10" localId="1" initialStep="true">
							<position x="94" y="94" />
							<connectionPointIn>
								<connection refLocalId="6">
									<position x="126" y="895" />
									<position x="126" y="910" />
									<position x="43" y="910" />
									<position x="43" y="74" />
									<position x="126" y="74" />
									<position x="126" y="94" />
								</connection>
							</connectionPointIn>
							<addData>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Initial step</value>
								</data>
							</addData>
						</step>
						<actionBlock localId="14" width="399" height="64">
							<position x="174" y="774" />
							<connectionPointIn>
								<connection refLocalId="2" />
							</connectionPointIn>
							<action localId="15">
								<relPosition x="0" y="0" />
								<inline>
									<ST>convoy;
IF RE pulseGenerator  THEN encoder := encoder + increment;
END_IF;
</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="14" localId="2">
							<position x="94" y="774" />
							<connectionPointIn>
								<connection refLocalId="7">
									<position x="126" y="725" />
									<position x="126" y="758" />
									<position x="126" y="758" />
									<position x="126" y="774" />
								</connection>
							</connectionPointIn>
							<addData>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Request to run forward the conveyor</value>
								</data>
							</addData>
						</step>
						<actionBlock localId="16" width="231" height="64">
							<position x="174" y="604" />
							<connectionPointIn>
								<connection refLocalId="3" />
							</connectionPointIn>
							<action localId="17">
								<relPosition x="0" y="0" />
								<inline>
									<ST>load := FALSE;
evacuate := FALSE;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="13" localId="3">
							<position x="94" y="604" />
							<connectionPointIn>
								<connection refLocalId="8">
									<position x="126" y="555" />
									<position x="126" y="588" />
									<position x="126" y="588" />
									<position x="126" y="604" />
								</connection>
							</connectionPointIn>
							<addData>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Jacks in</value>
								</data>
							</addData>
						</step>
						<selectionConvergence localId="18" width="457">
							<position x="94" y="434" />
							<connectionPointIn>
								<connection refLocalId="9">
									<position x="126" y="385" />
									<position x="126" y="418" />
									<position x="126" y="418" />
									<position x="126" y="434" />
								</connection>
								<connection refLocalId="11">
									<position x="535" y="210" />
									<position x="535" y="401" />
									<position x="126" y="401" />
									<position x="126" y="434" />
								</connection>
							</connectionPointIn>
						</selectionConvergence>
						<actionBlock localId="19" width="230" height="64">
							<position x="174" y="434" />
							<connectionPointIn>
								<connection refLocalId="4" />
							</connectionPointIn>
							<action localId="20">
								<relPosition x="0" y="0" />
								<inline>
									<ST>load := TRUE;
evacuate := TRUE;</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="12" localId="4">
							<position x="94" y="434" />
							<connectionPointIn>
								<connection refLocalId="18" />
							</connectionPointIn>
							<addData>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Jacks out</value>
								</data>
							</addData>
						</step>
						<actionBlock localId="21" width="258" height="64">
							<position x="174" y="264" />
							<connectionPointIn>
								<connection refLocalId="5" />
							</connectionPointIn>
							<action localId="22">
								<relPosition x="0" y="0" />
								<inline>
									<ST>valve5;
</ST>
								</inline>
							</action>
						</actionBlock>
						<step name="11" localId="5">
							<position x="94" y="264" />
							<connectionPointIn>
								<connection refLocalId="10">
									<position x="126" y="215" />
									<position x="126" y="248" />
									<position x="126" y="248" />
									<position x="126" y="264" />
								</connection>
							</connectionPointIn>
							<addData>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Filling of the bottle
AND initialisation of the encoder</value>
								</data>
							</addData>
						</step>
						<transition localId="6">
							<position x="110" y="887" />
							<connectionPointIn>
								<connection refLocalId="2">
									<position x="126" y="838" />
									<position x="126" y="854" />
									<position x="126" y="854" />
									<position x="126" y="887" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="6">
									<ST>(encoder &gt;= value)</ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>15</value>
								</data>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Run one step forward</value>
								</data>
							</addData>
						</transition>
						<transition localId="7">
							<position x="110" y="717" />
							<connectionPointIn>
								<connection refLocalId="3">
									<position x="126" y="668" />
									<position x="126" y="684" />
									<position x="126" y="684" />
									<position x="126" y="717" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="7">
									<ST>T/X13/2 s</ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>14</value>
								</data>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Tests on the jack's inlet sensors</value>
								</data>
							</addData>
						</transition>
						<transition localId="8">
							<position x="110" y="547" />
							<connectionPointIn>
								<connection refLocalId="4">
									<position x="126" y="498" />
									<position x="126" y="514" />
									<position x="126" y="514" />
									<position x="126" y="547" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="8">
									<ST>T/X12/2 s</ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>13</value>
								</data>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Tests on the jack's outlet sensors</value>
								</data>
							</addData>
						</transition>
						<transition localId="9">
							<position x="110" y="377" />
							<connectionPointIn>
								<connection refLocalId="5">
									<position x="126" y="328" />
									<position x="126" y="344" />
									<position x="126" y="344" />
									<position x="126" y="377" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="9">
									<ST>bottleFilled</ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>11</value>
								</data>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Bottle filled</value>
								</data>
							</addData>
						</transition>
						<selectionDivergence localId="23" width="457">
							<position x="94" y="158" />
							<connectionPointIn>
								<connection refLocalId="1" />
							</connectionPointIn>
						</selectionDivergence>
						<transition localId="10">
							<position x="110" y="207" />
							<connectionPointIn>
								<connection refLocalId="1">
									<position x="126" y="158" />
									<position x="126" y="174" />
									<position x="126" y="174" />
									<position x="126" y="207" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="10">
									<ST>productionRequest AND bottlePresent </ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>10</value>
								</data>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>Presence of a bottle
AND production mode</value>
								</data>
							</addData>
						</transition>
						<transition localId="11">
							<position x="519" y="202" />
							<connectionPointIn>
								<connection refLocalId="1">
									<position x="126" y="158" />
									<position x="126" y="174" />
									<position x="535" y="174" />
									<position x="535" y="202" />
								</connection>
							</connectionPointIn>
							<condition>
								<inline name="11">
									<ST>productionRequest AND NOT bottlePresent </ST>
								</inline>
							</condition>
							<addData>
								<data name="Geensys.CB.index" handleUnknown="preserve">
									<value>12</value>
								</data>
								<data name="Geensys.CB.comment" handleUnknown="preserve">
									<value>No bottle AND production mode</value>
								</data>
							</addData>
						</transition>
					</SFC>
				</body>
				<addData>
					<data name="Geensys.CB.Or_Divergences_Exclusivity" handleUnknown="preserve">
						<value>true</value>
					</data>
					<data name="Geensys.CB.COMPONENT_CLASS" handleUnknown="preserve">
						<value>PROCESS</value>
					</data>
					<data name="Geensys.CB.COMPONENT_CLASS_UUID" handleUnknown="preserve">
						<value>efe67f35-7746-4c41-87ee-86d6ccbf6b60</value>
					</data>
					<data name="Geensys.CB.INSTANCE_NAMIMG_PATTERN" handleUnknown="preserve">
						<value>&lt;CLASS_PATTERN&gt;</value>
					</data>
					<data name="Geensys.CB.COMMENTS_PATTERN" handleUnknown="preserve">
						<value>&lt;CLASS_PATTERN&gt;</value>
					</data>
				</addData>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations />
	</instances>
</project>