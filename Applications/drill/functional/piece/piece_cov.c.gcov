        -:    0:Source:C:/Users/Public/DassaultSystemes/ControlBuild_2024x_Refresh1/examples/examples/Applications/drill/functional/piece/piece_cov.c
        -:    0:Graph:MinGW/piece_cov.gcno
        -:    0:Data:MinGW/piece_cov.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:/*2023-10-03T11:13:43-01:00*/
        -:    2:
        -:    3:/********************************************************************
        -:    4: * piece_cov.c
        -:    5: * 
        -:    6: * generated by: plcgen 3.1.391
        -:    7: ********************************************************************/
        -:    8:
        -:    9:#include "cb_comp.h"
        -:   10:#include "cb_covs.h"
        -:   11:#include "iec_1131.h"
        -:   12:
        -:   13:#include "piece.h"
        -:   14:
        -:   15:
        -:   16:
        -:   17:/**************************** Variables *****************************/
        -:   18:
        -:   19:CB_Index piece__num = 0;
        -:   20:CB_Mem_Bool *piece_loadingRequest;
        -:   21:CB_Mem_Bool *piece_unloadingRequest;
        -:   22:CB_Mem_Bool *piece_piece;
        -:   23:CB_Mem_Int *piece_count;
        -:   24:CB_Mem_Int *piece_loadingDuration;
        -:   25:
        -:   26:/**************************** Variables *****************************/
        -:   27:
        -:   28:#define loadingRequest (piece_loadingRequest->CB_current_value)
        -:   29:#define unloadingRequest (piece_unloadingRequest->CB_current_value)
        -:   30:#define piece (piece_piece->CB_current_value)
        -:   31:#define count (piece_count->CB_current_value)
        -:   32:#define loadingDuration (piece_loadingDuration->CB_current_value)
        -:   33:
        -:   34:
        -:   35:/************************ Components offsets ************************/
        -:   36:
        -:   37:
        -:   38:/********************* Initialization function **********************/
        -:   39:
        1:   40:int _drill__piece_init(void)
        -:   41:{
        1:   42:	(self.Int+1)->CB_current_value = 10; /*loadingDuration*/
        1:   43:	self.Int+=2;
        -:   44:
        -:   45:
        1:   46:	return 0;
        -:   47:}
        -:   48:
        -:   49:
        -:   50:/************************ Behavior function *************************/
        -:   51:
      361:   52:int drill__piece(void)
        -:   53:{
        -:   54:	static char *__comp_name = "drill.piece";
      361:   55:	if (exec_term_node(self_num)) {
        -:   56:
        -:   57:		/*********************** Internals variables ************************/
        -:   58:
      361:   59:		piece_count = self.Int+0;
      361:   60:		piece_loadingDuration = self.Int+1;
        -:   61:
        -:   62:		/********************* Pre-conditions execution *********************/
        -:   63:
        -:   64:		/*no Pre-conditions*/
        -:   65:
        -:   66:		/************************ Behavior execution ************************/
        -:   67:
        -:   68:		{
      361:   69:			if (loadingRequest)
        -:   70:			   {
      212:   71:			   piece = 1;
      212:   72:			   count = 0;
        -:   73:			   }
      361:   74:			if (unloadingRequest)
        -:   75:			   {
       10:   76:			   count = count+1;
       10:   77:			   if (count == loadingDuration) piece=0;
        -:   78:			   }
        -:   79:		}
        -:   80:
      361:   81:		CB_post_bool(piece_piece);
        -:   82:
        -:   83:		/******************** Post-conditions execution *********************/
        -:   84:
        -:   85:		/*no Post-conditions*/
        -:   86:	}
        -:   87:
        -:   88:	/*************************** self update ****************************/
        -:   89:
      361:   90:	self.Int += 2;
        -:   91:
      361:   92:	return 0;
        -:   93:}
        -:   94:
