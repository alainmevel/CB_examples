        -:    0:Source:cb_ctd_cov.c
        -:    0:Graph:MinGW/cb_ctd_cov.gcno
        -:    0:Data:MinGW/cb_ctd_cov.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:/*2023-10-03T11:12:46-01:00*/
        -:    2:
        -:    3:/********************************************************************
        -:    4: * cb_ctd_cov.c
        -:    5: * 
        -:    6: * generated by: plcgen 3.1.391
        -:    7: ********************************************************************/
        -:    8:
        -:    9:#include "cb_comp.h"
        -:   10:#include "cb_covs.h"
        -:   11:#include "iec_1131.h"
        -:   12:
        -:   13:#include "cb_ctd.h"
        -:   14:
        -:   15:
        -:   16:
        -:   17:/**************************** Variables *****************************/
        -:   18:
        -:   19:CB_Index cb_ctd__num = 0;
        -:   20:CB_Mem_Bool *cb_ctd_CD;
        -:   21:CB_Mem_Bool *cb_ctd_LOAD;
        -:   22:CB_Mem_Int *cb_ctd_PV;
        -:   23:CB_Mem_Bool *cb_ctd_QD;
        -:   24:CB_Mem_Int *cb_ctd_CV;
        -:   25:
        -:   26:/**************************** Variables *****************************/
        -:   27:
        -:   28:#define CD (cb_ctd_CD->CB_current_value)
        -:   29:#define LOAD (cb_ctd_LOAD->CB_current_value)
        -:   30:#define PV (*((short *)&(cb_ctd_PV->CB_current_value) + ALIGN_OFFSET_SHORT))
        -:   31:#define QD (cb_ctd_QD->CB_current_value)
        -:   32:#define CV (*((short *)&(cb_ctd_CV->CB_current_value) + ALIGN_OFFSET_SHORT))
        -:   33:
        -:   34:
        -:   35:/************************ Components offsets ************************/
        -:   36:
        -:   37:
        -:   38:/********************* Initialization function **********************/
        -:   39:
        1:   40:int _timers_counters__cb_ctd_init(void)
        -:   41:{
        -:   42:
        -:   43:
        1:   44:	return 0;
        -:   45:}
        -:   46:
        -:   47:
        -:   48:/************************ Behavior function *************************/
        -:   49:
        2:   50:int timers_counters__cb_ctd(void)
        -:   51:{
        -:   52:	static char *__comp_name = "timers_counters.cb_ctd";
        2:   53:	if (exec_term_node(self_num)) {
        -:   54:
        -:   55:		/*********************** Internals variables ************************/
        -:   56:
        -:   57:
        -:   58:		/********************* Pre-conditions execution *********************/
        -:   59:
        -:   60:		/*no Pre-conditions*/
        -:   61:
        -:   62:		/************************ Behavior execution ************************/
        -:   63:
        -:   64:		{
        -:   65:			/* -----------------------------------------------------------------	*/
        -:   66:			/* Type : BFU									*/
        -:   67:			/* Copyright : Geensoft							*/
        -:   68:			/* Version : 1.0 23/03/2010							*/
        -:   69:			/* -----------------------------------------------------------------	*/
        -:   70:			/* This is a down-counter		(CTD)					*/
        -:   71:			/* -------------------------------------------------------------	*/
        2:   72:			if(LOAD) {
        2:   73:				CV = PV;
        -:   74:			}
        -:   75:			else {
    #####:   76:				if(CD && (CV > -32768)) {
    #####:   77:					CV = CV -1;
        -:   78:				}
        -:   79:			}
        2:   80:			QD = (CV <= 0);
        -:   81:		}
        -:   82:
        2:   83:		CB_post_bool(cb_ctd_QD);
        2:   84:		CB_post_int(cb_ctd_CV);
        -:   85:
        -:   86:		/******************** Post-conditions execution *********************/
        -:   87:
        -:   88:		/*no Post-conditions*/
        -:   89:	}
        -:   90:
        -:   91:	/*************************** self update ****************************/
        -:   92:
        -:   93:
        2:   94:	return 0;
        -:   95:}
        -:   96:
